/* generated @ 2017-06-29 11:37:46*/
!function(e){function o(i){if(t[i])return t[i].exports;var r=t[i]={exports:{},id:i,loaded:!1};return e[i].call(r.exports,r,r.exports,o),r.loaded=!0,r.exports}var t={};return o.m=e,o.c=t,o.p="",o(0)}({0:function(e,o,t){e.exports=t(464)},2:function(e,o,t){"use strict";t(3),t(8),t(10),t(11),t(12),t(14)},3:function(e,o){},8:function(e,o,t){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function r(e){var o;e.jquery?(o=e,e=e[0]):o=$(e);var t={keyfrom:"deskdict.main"};_.each(e.attributes,function(e){var i=e.name;if(/^data-log-/.test(i)){var r=e.value;if(!r)return;var n=i.substring(9);if("^"==r){var a=o.parents("["+i+"]");if(0==a.length)return void(e.value="");r=a[0].getAttribute(i),e.value=r,t[n]=r}else t[n]=r}}),ydk.rlog(t)}Object.defineProperty(o,"__esModule",{value:!0}),o["default"]=r;var n=t(9),a=i(n);$(document).on("click","[data-log-action]",function(){r(this)}),$(function(){a["default"].pageId&&setTimeout(function(){ydk.rlog({show:a["default"].pageId,version:new Date(a["default"].version).format("yyyy-MM-dd HH:mm:ss")})},100)})},9:function(e,o){"use strict";e.exports={version:1498707467994,debug:!1,platform:"win",serverInfoLine:"http://dict.youdao.com/infoline",swPathPrefix:"frame:mainFrame://"}},10:function(e,o){"use strict";var t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=function(e){return _.omit(e,function(e){return _.isFunction(e)})};ydk.extend({rlog:function(e){ydk._invoke("rlog",i(e),e)},getInfoLineData:function(e){ydk._invoke("getInfoLineData",e.data,e)},setKeyword:function(e){ydk._invoke("setKeyword",e,e)},getKeyword:function(e){ydk._invoke("getKeyword",e,e)},onKeywordChanged:function(e){ydk._on("onKeywordChanged",{},e)},onKeywordSubmit:function(e){ydk._on("onKeywordSubmit",{},e)},getDictResult:function(e){ydk._invoke("getDictResult",e.data,e)},getTranslateResult:function(e){ydk._invoke("getTranslateResult",e.data,e)},getSimsentResult:function(e){ydk._invoke("getSimsentResult",e.data,e)},onTriggerNativeEvent:function(e){ydk._on("onTriggerNativeEvent",{},e)},getSetting:function(e){ydk._invoke("getSetting",{},e)},saveSetting:function(e){ydk._invoke("saveSetting",{setting:e.setting},e)},closeSuggest:function(e){ydk._invoke("closeSuggest",{},e)},onNativeKeyDown:function(e){ydk._on("onNativeKeyDown",{},e)},copyToClipboard:function(e){ydk._invoke("copyToClipboard",{content:e.content},e)},onBroadcast:function(e){e._complete=function(e){"json"==e.data.format&&"string"==typeof e.data.data&&(e.data.data=JSON.parse(e.data.data))},ydk._on("onBroadcast",{},e)},broadcast:function(e){var o=e.data,i="string";"object"==("undefined"==typeof o?"undefined":t(o))&&(o=JSON.stringify(o),i="json"),ydk._invoke("broadcast",{type:e.type,format:i,data:o},e)},onHistory:function(e){ydk._on("onHistory",{},e)},setHasHistory:function(e){ydk._invoke("setHasHistory",{has:e.has},e)},onCornerPopupShow:function(e){ydk._on("onCornerPopupShow",{},e)},showCornerPopup:function(e){ydk._invoke("showCornerPopup",{},e)},onStrokeResult:function(e){ydk._on("onStrokeResult",{},e)},setStroke:function(e){ydk._invoke("setStroke",i(e),e)},closeWin:function(e){ydk._invoke("closeWin",{},e)},checkUpdate:function(e){ydk._invoke("checkUpdate",{},e)},setWinHeight:function(e){ydk._invoke("setWinHeight",i(e),e)},setWinSize:function(e){ydk._invoke("setWinSize",i(e),e)},onSettingChange:function(e){ydk._on("onSettingChange",{},e)},setTop:function(e){ydk._invoke("setTop",{},e)},checkWordBook:function(e){ydk._invoke("checkWordBook",{word:e.word,lang:e.lang},e)},removeFromWordBook:function(e){ydk._invoke("removeFromWordBook",i(e),e)},addToWordBook:function(e){ydk._invoke("addToWordBook",i(e),e)},updateToWordBook:function(e){ydk._invoke("updateToWordBook",i(e),e)},syncWordBook:function(e){ydk._invoke("syncWordBook",{},e)},queryWordBook:function(e){ydk._invoke("queryWordBook",i(e),e)},onWordBookChanged:function(e){ydk._on("onWordBookChanged",{},e)},queryWordBookCategory:function(e){ydk._invoke("queryWordBookCategory",i(e),e)},addWordBookCategory:function(e){ydk._invoke("addWordBookCategory",i(e),e)},updateWordBookCategory:function(e){ydk._invoke("updateWordBookCategory",i(e),e)},removeWordBookCategory:function(e){ydk._invoke("removeWordBookCategory",i(e),e)},importToWordBook:function(e){ydk._invoke("importToWordBook",i(e),e)},queryWordBookForReview:function(e){ydk._invoke("queryWordBookForReview",i(e),e)},reviewWordBook:function(e){ydk._invoke("reviewWordBook",i(e),e)},exportFromWordBook:function(e){ydk._invoke("exportFromWordBook",i(e),e)},cancleExportFromWordBook:function(e){ydk._invoke("cancleExportFromWordBook",i(e),e)},setWordBookCategory:function(e){ydk._invoke("setWordBookCategory",i(e),e)},setWordBookPlan:function(e){ydk._invoke("setWordBookPlan",i(e),e)},minimizeWin:function(){ydk._invoke("minimizeWin",{},{})},setDebug:function(e){ydk._invoke("setDebug",i(e),e)},setWinMove:function(e){ydk._invoke("setWinMove",{},e)},showWin:function(e){ydk._invoke("showWin",{},e)},getOcrModelList:function(e){ydk._invoke("getOcrModelList",{},e)},downloadOcrModel:function(e){ydk._invoke("downloadOcrModel",i(e),e)},removeOcrModel:function(e){e=i(e),ydk._invoke("removeOcrModel",e,e)},onDownloadProgress:function(e){ydk._on("onDownloadProgress",{},e)},downloadBrowserPlugin:function(e){e=i(e),ydk._invoke("downloadBrowserPlugin",e,e)},onPageLoadStart:function(e){ydk._on("onPageLoadStart",{},e)},saveCache:function(e){e=i(e),ydk._invoke("saveCache",i(e),e)},getCache:function(e){ydk._invoke("getCache",i(e),e)},removeCache:function(e){e=i(e),ydk._invoke("removeCache",e,e)},clearCache:function(e){e=i(e),ydk._invoke("clearCache",e,e)},openWin:function(e){e=i(e),ydk._invoke("openWin",e,e)},playNativeVoice:function(e){e=i(e),ydk._invoke("playNativeVoice",e,e)},stopNativeVoice:function(e){ydk._invoke("stopNativeVoice",{},{})},setQueryFocus:function(e){ydk._invoke("setQueryFocus",{},{})},setQuerySelectAll:function(e){ydk._invoke("setQuerySelectAll",{},{})},onLoginStatusChanged:function(e){ydk._on("onLoginStatusChanged",{},e)},onHotKey:function(e){ydk._on("onHotKey",{},e)},updateWinZOrder:function(e){ydk._invoke("updateWinZOrder",{},e)},getOfflineLexiconList:function(e){ydk._invoke("getOfflineLexiconList",{},e)},removeOfflineLexicon:function(e){ydk._invoke("removeOfflineLexicon",{},e)},isVip:function(e){ydk._on("isVip",{},e)},clearHistory:function(e){ydk._invoke("clearHistory",{},e)}})},11:function(e,o){"use strict";ydk.onPageVisibilityChange({success:function(e){e.hidden&&ydk.stopVoice({})}})},12:function(e,o,t){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}var r=t(13),n=i(r),a=t(9),s=i(a);ydk.config({debug:!1,jsApiList:["checkJsApi","getClientInfo","getNetworkType","getOrientationStatus","onOrientationChange","share","playVoice","pauseVoice","stopVoice","onVoicePlayEnd","onVoicePlayProgress","downloadImage","ajax","isLogin","login","getUserInfo","isVip","rlog","onPageVisibilityChange","onKeywordChanged","onNativeKeyDown","copyToClipboard","getNetworkType","onNetStatusChange","broadcast","onBroadcast","setHasHistory","onHistory","onCornerPopupShow","onStrokeResult","onSettingChange","onPageLoadStart","openWin","playNativeVoice","stopNativeVoice"]}),ydk.getClientInfo({success:function(e){s["default"].debug&&(e.debug=!0),ydk.client=e,n["default"].trigger("ydk.ready",e)}})},13:function(e,o){"use strict";var t={},i=function(e,o){for(var t=e.length,i=[],r=o;r<t;r++)i.push(e[r]);return i};e.exports={one:function(e,o){t[e]?t[e][0].push(o):t[e]=[[o],[]]},bind:function(e,o){t[e]?t[e][1].push(o):t[e]=[[],[o]]},trigger:function(e){var o=i(arguments,1),r=t[e];if(r){var n=this;$.each(r[0],function(e,t){t.apply(n,o)}),$.each(r[1],function(e,t){t.apply(n,o)}),r[0]=[]}}}},14:function(e,o,t){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function r(e){if(e.debug){var o=$('<a href="frame:mainFrame://ydk.html" class="_dev_flag"></a>');o.text(new Date(l["default"].version).format("yyyy-MM-dd HH:mm:ss")).appendTo(document.body)}}var n=t(13),a=i(n),s=t(9),l=i(s);a["default"].one("ydk.ready",r)},24:function(e,o,t){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(o,"__esModule",{value:!0});var r=t(25),n=i(r);t(26);var a={isCacheUpdate:function(e,o){return JSON.stringify(e)!=JSON.stringify(o)}},s=function(e,o){if(!e._on_ajax){var t,i=_.isFunction(e.dataCache)?e.dataCache.call(e._context):e.dataCache;if(i&&!o){t=n["default"].get(i);var r=JSON.stringify(t);if(t){var a,s={cache:!0};if(e.filter)try{a=e.filter(t)}catch(l){a=null,console.error(l)}else a=t;a&&(e.$emit("ajax-success",t,a,s),t=JSON.parse(r),e.$nextTick(function(){e.$emit("ajax-end",t,a,s)}))}}var c=_.now();e.$emit("ajax-before"),e._on_ajax=!0,e.dataSource({data:e.dataSourceParams,fail:function(o){e.$emit("ajax-complete"),e.$emit("ajax-fail",o),e._on_ajax=!1},success:function(o){e._on_ajax=!1,i&&o&&n["default"].set(i,o);var r,a={cache:!1,sameAsCache:!1,duration:_.now()-c};try{if(r=e.filter?e.filter(o):o,i){if(e.filter&&t)try{t=e.filter(t)}catch(s){t=null,console.error(s)}a.sameAsCache=t&&!e.isCacheUpdate(t,r)}}finally{e.$emit("ajax-complete")}e.$emit("ajax-success",o,r,a),e.$nextTick(function(){e.$emit("ajax-end",o,r,a)})}})}},l=function(){var e=this;e.$on("pulldown-end",function(){return s(e,!0),!0}),s(e)},c=Vue.extend({_is_ajax:!0,props:{dataSource:Function,filter:Function,isCacheUpdate:{type:[Function],"default":function(){return a.isCacheUpdate}},dataCache:[String,Function],dataSourceParams:{type:[Object],"default":function(){return{}}},out:{type:[String],"default":function(){return"$ajax"}}},watch:{dataSourceParams:{handler:function(e){s(this,!0)},deep:!0}},template:'<ajax-scope :out="out"></ajax-scope>',ready:l});Vue.component("ajax",c),o["default"]=c},25:function(e,o){"use strict";function t(e){return n+"-"+e}var i;if("undefined"==typeof localStorage||null===localStorage)console.log("localStorage不可用"),i=!1;else{var r=window.localStorage,n="desk";i={set:function(e,o){console.log("【LS】本地存储存储"+e+"数据",o);var i=JSON.stringify(o);e=t(e);try{return r.setItem(e,i)}catch(n){"QuotaExceededError"==n.name&&(r.clear(),r.setItem(e,i))}},get:function(e){var o=JSON.parse(r.getItem(t(e)));return console.log("【LS】本地存储获取"+e+"数据",o),o}}}e.exports=i},26:function(e,o,t){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}var r=t(27),n=i(r),a=Vue.util.remove,s=Vue.util.replace,l=Vue.util.defineReactive,c=Vue.util.extractContent;Vue.directive("ajax",{});var d=Vue.elementDirective("slot");Vue.elementDirective("ajax-scope",{priority:d.priority,_scope:null,params:["out"],bind:function(){var e=this,o=e.vm;o.$on("ajax-success",function(o,t,i){i.sameAsCache||e.render(t)})},compile:function(e,o,t,i){var r=this,c=r.vm,d=r.params.out;if(e&&o){var u=r._scope=Object.create(o);Object.defineProperty(c,"$ajaxScope",{value:u,writable:!1,enumerable:!1,configurable:!1}),l(r,"_data",{}),Object.defineProperty(u,d,{get:function(){return r._data},set:function(e){e!==r._data&&(0,n["default"])(r._data,e)}}),Object.defineProperty(c,"$ajaxData",{value:u[d],writable:!1,enumerable:!1,configurable:!1}),u[d]=i,r.unlink=o.$compile(e,t,u,r._frag)}e?(s(r.el,e),c.$children.forEach(function(e){e._isAttached||(e._initDOMHooks(),e._callHook("attached"))})):a(r.el)},render:function(e){var o=this;o.unlink?o.update(e):o.insert(e)},insert:function(e){var o=this,t=o.vm._slotContents&&o.vm._slotContents["default"];t&&t.hasChildNodes()?o.compile(t.cloneNode(!0),o.vm._context,o.vm,e):o.fallback()},fallback:function(){var e=this;e.compile(c(e.el,!0),e.vm)},update:function(e){var o=this,t=o._scope,i=o.params.out;t[i]=e},unbind:function(){var e=this;e.unlink&&e.unlink()}})},27:function(e,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var t=(Vue.util.defineReactive,function(e,o,t,a,s){_.isArray(t)&&_.isArray(a)?i(t,a,s):_.isObject(t)&&_.isObject(a)&&!_.isArray(t)&&!_.isArray(a)?r(t,a,s):t!=a&&(Array.isArray(e)?e.$set(o,a):Vue.set(e,o,a),n(t,a,s))}),i=function(e,o,i){for(var r=e.length,n=o.length,a=Math.min(r,n)-1;a>=0;a--)t(e,a,e[a],o[a],i+"."+a);r<n?o.slice(r,n).forEach(function(o){e.push(o)}):r>n&&e.splice(n,r-n)},r=function(e,o,i){Object.keys(e).forEach(function(t){o.hasOwnProperty(t)||(e[t]=null)}),Object.keys(o).forEach(function(r){var a=i+"."+r,s=e[r];void 0===o[r]||null!=s&&void 0!=s?t(e,r,s,o[r],a):(n(e[r],o[r],a),Vue.set(e,r,o[r]))})},n=function(e,o,t){},a=function(e,o){t(e,o,e,o,"")};o["default"]=a},32:function(e,o,t){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),t(33),o["default"]=function(e){return{props:{filter:Function,data:Object},template:"<template-scope>"+e()+"</template-scope>",created:function(){var e=this,o=e._scope||e.$parent,t=e.data;if(e.$refs=o.$refs,e.$els=o.$els,t){e.filter&&(t=e.filter(t));var i=Object.create(o);i.$refs=Object.create(o.$refs),i.$els=Object.create(o.$els),i.$parent=o,i=_.extend(i,t),e._scope=i}else t=o;t&&(Vue["delete"](e,"data"),Vue["delete"](e,"filter"),e.$data=t)}}}},33:function(e,o){"use strict";var t=Vue.FragmentFactory,i=(Vue.util.remove,Vue.util.before,Vue.util.replace),r=(Vue.util.defineReactive,Vue.util.createAnchor),n=(Vue.util.extractContent,Vue.elementDirective("slot"));Vue.directive("if");Vue.elementDirective("template-scope",{priority:n.priority,bind:function(){var e=this;e._html=e.el.innerHTML,e.anchor=r("v-template-scope"),i(e.el,e.anchor),e.insert()},unbind:function(){var e=this;e.unlink&&e.unlink(),e.frag&&e.frag.destroy()},insert:function(){var e=this;e.factory=new t(e.vm,e._html);var o=e.vm._scope;e.frag=e.factory.create(e._host,o,e._frag),e.frag.before(e.anchor)}})},51:function(e,o,t){"use strict";function i(e){if(e&&e.__esModule)return e;var o={};if(null!=e)for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(o[t]=e[t]);return o["default"]=e,o}function r(e){return e&&e.__esModule?e:{"default":e}}function n(e,o){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"local";switch(t){case"local":c["default"].trigger("modules/broadcast/"+e,o);break;case"frame":u.trigger("modules/broadcast/"+e,o);break;case"top":u.triggerTop("modules/broadcast/"+e,o);break;case"all":p.trigger("modules/broadcast/"+e,o)}}function a(e,o){c["default"].bind("modules/broadcast/"+e,o)}function s(e,o){c["default"].one("modules/broadcast/"+e,o)}Object.defineProperty(o,"__esModule",{value:!0}),o.emit=n,o.on=a,o.one=s;var l=t(13),c=r(l),d=t(52),u=i(d),h=t(53),p=i(h)},52:function(e,o,t){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function r(){var e=u(arguments);s["default"].trigger.apply(this,e),c?h(JSON.stringify(e)):top.postMessage({_seq:++d,dictbroadcast:JSON.stringify(e)},"/")}function n(){var e=u(arguments);top!=l&&top.postMessage({_seq:++d,scope:"top",dictbroadcast:JSON.stringify(e)},"/")}Object.defineProperty(o,"__esModule",{value:!0}),o.trigger=r,o.triggerTop=n;var a=t(13),s=i(a),l=window,c=l==top,d=(new Date).getTime()+1e5*Math.random(),u=function(e){for(var o=e.length,t=new Array(o);o--;)t[o]=e[o];return t},h=function(e){for(var o=l.frames.length,t=0;t<o;t++)try{l.frames[t].postMessage({_seq:++d,dictbroadcast:e},"/")}catch(i){console.error(i)}};l.addEventListener("message",function(e){if(e.data.dictbroadcast){var o=l.frames.length;if(c){for(var t=!1,i=0;i<o;i++)if(e.source==l.frames[i]){t=!0;break}if(!t&&location.protocol!=e.source.location.protocol)return}else if(e.source!=top&&location.protocol!=e.source.location.protocol)return;try{s["default"].trigger.apply(this,JSON.parse(e.data.dictbroadcast))}catch(e){console.error(e)}"top"!=e.data.scope&&h(e.data.dictbroadcast)}},!1)},53:function(e,o,t){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}var r=t(13),n=i(r);o.trigger=function(e,o){ydk.broadcast({type:e,data:o})},$(function(){ydk.onBroadcast({success:function(e){n["default"].trigger.call(null,e.data.type,e.data.data)}})})},235:function(e,o){"use strict";$(function(){var e,o,t=window,i=function(t){e&&e.removeClass("active"),o&&o.hide().removeClass("active").removeAttr("onpannel").trigger("close"),e=null,o=null};$("body").on("click","[pannel]",function(t){var r=$(this),n=$(r.attr("pannel"));n.is(":visible")?i():(i(),_.delay(function(){n.show().attr("onpannel","1"),e=r.addClass("active"),o=n.addClass("active").trigger("open")}))}).on("click","[onpannel]",function(e){e.stopPropagation()}).on("click","[pannel-close]",function(e){i()}).bind("click",i).bind("mousedown",function(e){0!=e.button&&i()}),$(t).bind("blur",i)})},249:function(e,o,t){"use strict";t(250),t(252)},250:function(e,o,t){var i,r,n,a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(a){r=[t(251)],i=a,n="function"==typeof i?i.apply(o,r):i,!(void 0!==n&&(e.exports=n))}(function(e){var o=!1,t=!1,i=0,r=2e3,n=0,s=["webkit","ms","moz","o"],l=window.requestAnimationFrame||!1,c=window.cancelAnimationFrame||!1;if(!l)for(var d in s){var u=s[d];if(l=window[u+"RequestAnimationFrame"]){c=window[u+"CancelAnimationFrame"]||window[u+"CancelRequestAnimationFrame"];break}}var h=window.MutationObserver||window.WebKitMutationObserver||!1,p={zindex:"auto",cursoropacitymin:0,cursoropacitymax:1,cursorcolor:"#424242",cursorwidth:"6px",cursorborder:"1px solid #fff",cursorborderradius:"5px",scrollspeed:60,mousescrollstep:24,touchbehavior:!1,hwacceleration:!0,usetransition:!0,boxzoom:!1,dblclickzoom:!0,gesturezoom:!0,grabcursorenabled:!0,autohidemode:!0,background:"",iframeautoresize:!0,cursorminheight:32,preservenativescrolling:!0,railoffset:!1,railhoffset:!1,bouncescroll:!0,spacebarenabled:!0,railpadding:{top:0,right:0,left:0,bottom:0},disableoutline:!0,horizrailenabled:!0,railalign:"right",railvalign:"bottom",enabletranslate3d:!0,enablemousewheel:!0,enablekeyboard:!0,smoothscroll:!0,sensitiverail:!0,enablemouselockapi:!0,cursorfixedheight:!1,directionlockdeadzone:6,hidecursordelay:400,nativeparentscrolling:!0,enablescrollonselection:!0,overflowx:!0,overflowy:!0,cursordragspeed:.3,rtlmode:"auto",cursordragontouch:!1,oneaxismousemode:"auto",scriptpath:function(){var e=document.getElementsByTagName("script"),e=e.length?e[e.length-1].src.split("?")[0]:"";return 0<e.split("/").length?e.split("/").slice(0,-1).join("/")+"/":""}(),preventmultitouchscrolling:!0,disablemutationobserver:!1},f=!1,m=function(){if(f)return f;var e=document.createElement("DIV"),o=e.style,t=navigator.userAgent,i=navigator.platform,r={haspointerlock:"pointerLockElement"in document||"webkitPointerLockElement"in document||"mozPointerLockElement"in document};r.isopera="opera"in window,r.isopera12=r.isopera&&"getUserMedia"in navigator,r.isoperamini="[object OperaMini]"===Object.prototype.toString.call(window.operamini),r.isie="all"in document&&"attachEvent"in e&&!r.isopera,r.isieold=r.isie&&!("msInterpolationMode"in o),r.isie7=r.isie&&!r.isieold&&(!("documentMode"in document)||7==document.documentMode),r.isie8=r.isie&&"documentMode"in document&&8==document.documentMode,r.isie9=r.isie&&"performance"in window&&9==document.documentMode,r.isie10=r.isie&&"performance"in window&&10==document.documentMode,r.isie11="msRequestFullscreen"in e&&11<=document.documentMode,r.isieedge12=navigator.userAgent.match(/Edge\/12\./),r.isieedge="msOverflowStyle"in e,r.ismodernie=r.isie11||r.isieedge,r.isie9mobile=/iemobile.9/i.test(t),r.isie9mobile&&(r.isie9=!1),r.isie7mobile=!r.isie9mobile&&r.isie7&&/iemobile/i.test(t),r.ismozilla="MozAppearance"in o,r.iswebkit="WebkitAppearance"in o,r.ischrome="chrome"in window,r.ischrome38=r.ischrome&&"touchAction"in o,r.ischrome22=!r.ischrome38&&r.ischrome&&r.haspointerlock,r.ischrome26=!r.ischrome38&&r.ischrome&&"transition"in o,r.cantouch="ontouchstart"in document.documentElement||"ontouchstart"in window,r.hasw3ctouch=(window.PointerEvent||!1)&&(0<navigator.MaxTouchPoints||0<navigator.msMaxTouchPoints),r.hasmstouch=!r.hasw3ctouch&&(window.MSPointerEvent||!1),r.ismac=/^mac$/i.test(i),r.isios=r.cantouch&&/iphone|ipad|ipod/i.test(i),r.isios4=r.isios&&!("seal"in Object),r.isios7=r.isios&&"webkitHidden"in document,r.isios8=r.isios&&"hidden"in document,r.isandroid=/android/i.test(t),r.haseventlistener="addEventListener"in e,r.trstyle=!1,r.hastransform=!1,r.hastranslate3d=!1,r.transitionstyle=!1,r.hastransition=!1,r.transitionend=!1,i=["transform","msTransform","webkitTransform","MozTransform","OTransform"];for(t=0;t<i.length;t++)if(void 0!==o[i[t]]){r.trstyle=i[t];break}r.hastransform=!!r.trstyle,r.hastransform&&(o[r.trstyle]="translate3d(1px,2px,3px)",r.hastranslate3d=/translate3d/.test(o[r.trstyle])),r.transitionstyle=!1,r.prefixstyle="",r.transitionend=!1;for(var i="transition webkitTransition msTransition MozTransition OTransition OTransition KhtmlTransition".split(" "),n=" -webkit- -ms- -moz- -o- -o -khtml-".split(" "),a="transitionend webkitTransitionEnd msTransitionEnd transitionend otransitionend oTransitionEnd KhtmlTransitionEnd".split(" "),t=0;t<i.length;t++)if(i[t]in o){r.transitionstyle=i[t],r.prefixstyle=n[t],r.transitionend=a[t];break}r.ischrome26&&(r.prefixstyle=n[1]),r.hastransition=r.transitionstyle;e:{for(t=["grab","-webkit-grab","-moz-grab"],(r.ischrome&&!r.ischrome38||r.isie)&&(t=[]),i=0;i<t.length;i++)if(n=t[i],o.cursor=n,o.cursor==n){o=n;break e}o="url(//patriciaportfolio.googlecode.com/files/openhand.cur),n-resize"}return r.cursorgrabvalue=o,r.hasmousecapture="setCapture"in e,r.hasMutationObserver=!1!==h,f=r},g=function(a,s){function d(){var e=y.doc.css(x.trstyle);return!(!e||"matrix"!=e.substr(0,6))&&e.replace(/^.*\((.*)\)$/g,"$1").replace(/px/g,"").split(/, +/)}function u(){var e=y.win;if("zIndex"in e)return e.zIndex();for(;0<e.length&&9!=e[0].nodeType;){var o=e.css("zIndex");if(!isNaN(o)&&0!=o)return parseInt(o);e=e.parent()}return!1}function f(e,o,t){return o=e.css(o),e=parseFloat(o),isNaN(e)?(e=T[o]||0,t=3==e?t?y.win.outerHeight()-y.win.innerHeight():y.win.outerWidth()-y.win.innerWidth():1,y.isie8&&e&&(e+=1),t?e:0):e}function g(e,o,t,i){y._bind(e,o,function(i){i=i?i:window.event;var r={original:i,target:i.target||i.srcElement,type:"wheel",deltaMode:"MozMousePixelScroll"==i.type?0:1,deltaX:0,deltaZ:0,preventDefault:function(){return i.preventDefault?i.preventDefault():i.returnValue=!1,!1},stopImmediatePropagation:function(){i.stopImmediatePropagation?i.stopImmediatePropagation():i.cancelBubble=!0}};return"mousewheel"==o?(i.wheelDeltaX&&(r.deltaX=-.025*i.wheelDeltaX),i.wheelDeltaY&&(r.deltaY=-.025*i.wheelDeltaY),r.deltaY||r.deltaX||(r.deltaY=-.025*i.wheelDelta)):r.deltaY=i.detail,t.call(e,r)},i)}function w(e,o,t){var i,r;if(0==e.deltaMode?(i=-Math.floor(y.opt.mousescrollstep/54*e.deltaX),r=-Math.floor(y.opt.mousescrollstep/54*e.deltaY)):1==e.deltaMode&&(i=-Math.floor(e.deltaX*y.opt.mousescrollstep),r=-Math.floor(e.deltaY*y.opt.mousescrollstep)),o&&y.opt.oneaxismousemode&&0==i&&r&&(i=r,r=0,t&&(0>i?y.getScrollLeft()>=y.page.maxw:0>=y.getScrollLeft())&&(r=i,i=0)),y.isrtlmode&&(i=-i),i&&(y.scrollmom&&y.scrollmom.stop(),y.lastdeltax+=i,y.debounced("mousewheelx",function(){var e=y.lastdeltax;y.lastdeltax=0,y.rail.drag||y.doScrollLeftBy(e)},15)),r){if(y.opt.nativeparentscrolling&&t&&!y.ispage&&!y.zoomactive)if(0>r){if(y.getScrollTop()>=y.page.maxh)return!0}else if(0>=y.getScrollTop())return!0;y.scrollmom&&y.scrollmom.stop(),y.lastdeltay+=r,y.synched("mousewheely",function(){var e=y.lastdeltay;y.lastdeltay=0,y.rail.drag||y.doScrollBy(e)},15)}return e.stopImmediatePropagation(),e.preventDefault()}var y=this;if(this.version="3.6.8",this.name="nicescroll",this.me=s,this.opt={doc:e("body"),win:!1},e.extend(this.opt,p),this.opt.snapbackspeed=80,a)for(var b in y.opt)void 0!==a[b]&&(y.opt[b]=a[b]);if(y.opt.disablemutationobserver&&(h=!1),this.iddoc=(this.doc=y.opt.doc)&&this.doc[0]?this.doc[0].id||"":"",this.ispage=/^BODY|HTML/.test(y.opt.win?y.opt.win[0].nodeName:this.doc[0].nodeName),this.haswrapper=!1!==y.opt.win,this.win=y.opt.win||(this.ispage?e(window):this.doc),this.docscroll=this.ispage&&!this.haswrapper?e(window):this.win,this.body=e("body"),this.iframe=this.isfixed=this.viewport=!1,this.isiframe="IFRAME"==this.doc[0].nodeName&&"IFRAME"==this.win[0].nodeName,this.istextarea="TEXTAREA"==this.win[0].nodeName,this.forcescreen=!1,this.canshowonmouseevent="scroll"!=y.opt.autohidemode,this.page=this.view=this.onzoomout=this.onzoomin=this.onscrollcancel=this.onscrollend=this.onscrollstart=this.onclick=this.ongesturezoom=this.onkeypress=this.onmousewheel=this.onmousemove=this.onmouseup=this.onmousedown=!1,this.scroll={x:0,y:0},this.scrollratio={x:0,y:0},this.cursorheight=20,this.scrollvaluemax=0,"auto"==this.opt.rtlmode){b=this.win[0]==window?this.body:this.win;var k=b.css("writing-mode")||b.css("-webkit-writing-mode")||b.css("-ms-writing-mode")||b.css("-moz-writing-mode");"horizontal-tb"==k||"lr-tb"==k||""==k?(this.isrtlmode="rtl"==b.css("direction"),this.isvertical=!1):(this.isrtlmode="vertical-rl"==k||"tb"==k||"tb-rl"==k||"rl-tb"==k,this.isvertical="vertical-rl"==k||"tb"==k||"tb-rl"==k)}else this.isrtlmode=!0===this.opt.rtlmode,this.isvertical=!1;this.observerbody=this.observerremover=this.observer=this.scrollmom=this.scrollrunning=!1;do this.id="ascrail"+r++;while(document.getElementById(this.id));this.hasmousefocus=this.hasfocus=this.zoomactive=this.zoom=this.selectiondrag=this.cursorfreezed=this.cursor=this.rail=!1,this.visibility=!0,this.hidden=this.locked=this.railslocked=!1,this.cursoractive=!0,this.wheelprevented=!1,this.overflowx=y.opt.overflowx,this.overflowy=y.opt.overflowy,this.nativescrollingarea=!1,this.checkarea=0,this.events=[],this.saved={},this.delaylist={},this.synclist={},this.lastdeltay=this.lastdeltax=0,this.detected=m();var x=e.extend({},this.detected);this.ishwscroll=(this.canhwscroll=x.hastransform&&y.opt.hwacceleration)&&y.haswrapper,this.hasreversehr=!!this.isrtlmode&&(this.isvertical?!(x.iswebkit||x.isie||x.isie11):!(x.iswebkit||x.isie&&!x.isie10&&!x.isie11)),this.istouchcapable=!1,x.cantouch||!x.hasw3ctouch&&!x.hasmstouch?!x.cantouch||x.isios||x.isandroid||!x.iswebkit&&!x.ismozilla||(this.istouchcapable=!0):this.istouchcapable=!0,y.opt.enablemouselockapi||(x.hasmousecapture=!1,x.haspointerlock=!1),this.debounced=function(e,o,t){y&&(y.delaylist[e]||(o.call(y),y.delaylist[e]={h:l(function(){y.delaylist[e].fn.call(y),y.delaylist[e]=!1},t)}),y.delaylist[e].fn=o)};var S=!1;this.synched=function(e,o){return y.synclist[e]=o,function(){S||(l(function(){if(y){S=!1;for(var e in y.synclist){var o=y.synclist[e];o&&o.call(y),y.synclist[e]=!1}}}),S=!0)}(),e},this.unsynched=function(e){y.synclist[e]&&(y.synclist[e]=!1)},this.css=function(e,o){for(var t in o)y.saved.css.push([e,t,e.css(t)]),e.css(t,o[t])},this.scrollTop=function(e){return void 0===e?y.getScrollTop():y.setScrollTop(e)},this.scrollLeft=function(e){return void 0===e?y.getScrollLeft():y.setScrollLeft(e)};var _=function(e,o,t,i,r,n,a){this.st=e,this.ed=o,this.spd=t,this.p1=i||0,this.p2=r||1,this.p3=n||0,this.p4=a||1,this.ts=(new Date).getTime(),this.df=this.ed-this.st};if(_.prototype={B2:function(e){return 3*e*e*(1-e)},B3:function(e){return 3*e*(1-e)*(1-e)},B4:function(e){return(1-e)*(1-e)*(1-e)},getNow:function(){var e=1-((new Date).getTime()-this.ts)/this.spd,o=this.B2(e)+this.B3(e)+this.B4(e);return 0>e?this.ed:this.st+Math.round(this.df*o)},update:function(e,o){return this.st=this.getNow(),this.ed=e,this.spd=o,this.ts=(new Date).getTime(),this.df=this.ed-this.st,this}},this.ishwscroll){this.doc.translate={x:0,y:0,tx:"0px",ty:"0px"},x.hastranslate3d&&x.isios&&this.doc.css("-webkit-backface-visibility","hidden"),this.getScrollTop=function(e){if(!e){if(e=d())return 16==e.length?-e[13]:-e[5];if(y.timerscroll&&y.timerscroll.bz)return y.timerscroll.bz.getNow()}return y.doc.translate.y},this.getScrollLeft=function(e){if(!e){if(e=d())return 16==e.length?-e[12]:-e[4];if(y.timerscroll&&y.timerscroll.bh)return y.timerscroll.bh.getNow()}return y.doc.translate.x},this.notifyScrollEvent=function(e){var o=document.createEvent("UIEvents");o.initUIEvent("scroll",!1,!0,window,1),o.niceevent=!0,e.dispatchEvent(o)};var z=this.isrtlmode?1:-1;x.hastranslate3d&&y.opt.enabletranslate3d?(this.setScrollTop=function(e,o){y.doc.translate.y=e,y.doc.translate.ty=-1*e+"px",y.doc.css(x.trstyle,"translate3d("+y.doc.translate.tx+","+y.doc.translate.ty+",0px)"),o||y.notifyScrollEvent(y.win[0])},this.setScrollLeft=function(e,o){y.doc.translate.x=e,y.doc.translate.tx=e*z+"px",y.doc.css(x.trstyle,"translate3d("+y.doc.translate.tx+","+y.doc.translate.ty+",0px)"),o||y.notifyScrollEvent(y.win[0])}):(this.setScrollTop=function(e,o){y.doc.translate.y=e,y.doc.translate.ty=-1*e+"px",y.doc.css(x.trstyle,"translate("+y.doc.translate.tx+","+y.doc.translate.ty+")"),o||y.notifyScrollEvent(y.win[0])},this.setScrollLeft=function(e,o){y.doc.translate.x=e,y.doc.translate.tx=e*z+"px",y.doc.css(x.trstyle,"translate("+y.doc.translate.tx+","+y.doc.translate.ty+")"),o||y.notifyScrollEvent(y.win[0])})}else this.getScrollTop=function(){return y.docscroll.scrollTop()},this.setScrollTop=function(e){return setTimeout(function(){y&&y.docscroll.scrollTop(e)},1)},this.getScrollLeft=function(){return y.hasreversehr?y.detected.ismozilla?y.page.maxw-Math.abs(y.docscroll.scrollLeft()):y.page.maxw-y.docscroll.scrollLeft():y.docscroll.scrollLeft()},this.setScrollLeft=function(e){return setTimeout(function(){if(y)return y.hasreversehr&&(e=y.detected.ismozilla?-(y.page.maxw-e):y.page.maxw-e),y.docscroll.scrollLeft(e)},1)};this.getTarget=function(e){return!!e&&(e.target?e.target:!!e.srcElement&&e.srcElement)},this.hasParent=function(e,o){if(!e)return!1;for(var t=e.target||e.srcElement||e||!1;t&&t.id!=o;)t=t.parentNode||!1;return!1!==t};var T={thin:1,medium:3,thick:5};this.getDocumentScrollOffset=function(){return{top:window.pageYOffset||document.documentElement.scrollTop,left:window.pageXOffset||document.documentElement.scrollLeft}},this.getOffset=function(){if(y.isfixed){var e=y.win.offset(),o=y.getDocumentScrollOffset();return e.top-=o.top,e.left-=o.left,e}return e=y.win.offset(),y.viewport?(o=y.viewport.offset(),{top:e.top-o.top,left:e.left-o.left}):e},this.updateScrollBar=function(e){var o,t,i;if(y.ishwscroll)y.rail.css({height:y.win.innerHeight()-(y.opt.railpadding.top+y.opt.railpadding.bottom)}),y.railh&&y.railh.css({width:y.win.innerWidth()-(y.opt.railpadding.left+y.opt.railpadding.right)});else{var r=y.getOffset();o=r.top,t=r.left-(y.opt.railpadding.left+y.opt.railpadding.right),o+=f(y.win,"border-top-width",!0),t+=y.rail.align?y.win.outerWidth()-f(y.win,"border-right-width")-y.rail.width:f(y.win,"border-left-width"),(i=y.opt.railoffset)&&(i.top&&(o+=i.top),i.left&&(t+=i.left)),y.railslocked||y.rail.css({top:o,left:t,height:(e?e.h:y.win.innerHeight())-(y.opt.railpadding.top+y.opt.railpadding.bottom)}),y.zoom&&y.zoom.css({top:o+1,left:1==y.rail.align?t-20:t+y.rail.width+4}),y.railh&&!y.railslocked&&(o=r.top,t=r.left,(i=y.opt.railhoffset)&&(i.top&&(o+=i.top),i.left&&(t+=i.left)),e=y.railh.align?o+f(y.win,"border-top-width",!0)+y.win.innerHeight()-y.railh.height:o+f(y.win,"border-top-width",!0),t+=f(y.win,"border-left-width"),y.railh.css({top:e-(y.opt.railpadding.top+y.opt.railpadding.bottom),left:t,width:y.railh.width}))}},this.doRailClick=function(e,o,t){var i;y.railslocked||(y.cancelEvent(e),o?(o=t?y.doScrollLeft:y.doScrollTop,i=t?(e.pageX-y.railh.offset().left-y.cursorwidth/2)*y.scrollratio.x:(e.pageY-y.rail.offset().top-y.cursorheight/2)*y.scrollratio.y,o(i)):(o=t?y.doScrollLeftBy:y.doScrollBy,i=t?y.scroll.x:y.scroll.y,e=t?e.pageX-y.railh.offset().left:e.pageY-y.rail.offset().top,t=t?y.view.w:y.view.h,o(i>=e?t:-t)))},y.hasanimationframe=l,y.hascancelanimationframe=c,y.hasanimationframe?y.hascancelanimationframe||(c=function(){y.cancelAnimationFrame=!0}):(l=function(e){return setTimeout(e,15-Math.floor(+new Date/1e3)%16)},c=clearTimeout),this.init=function(){if(y.saved.css=[],x.isie7mobile||x.isoperamini)return!0;x.hasmstouch&&y.css(y.ispage?e("html"):y.win,{_touchaction:"none"});var r=x.ismodernie||x.isie10?{
"-ms-overflow-style":"none"}:{"overflow-y":"hidden"};if(y.zindex="auto",y.zindex=y.ispage||"auto"!=y.opt.zindex?y.opt.zindex:u()||"auto",!y.ispage&&"auto"!=y.zindex&&y.zindex>n&&(n=y.zindex),y.isie&&0==y.zindex&&"auto"==y.opt.zindex&&(y.zindex="auto"),!y.ispage||!x.cantouch&&!x.isieold&&!x.isie9mobile){var a=y.docscroll;y.ispage&&(a=y.haswrapper?y.win:y.doc),x.isie9mobile||y.css(a,r),y.ispage&&x.isie7&&("BODY"==y.doc[0].nodeName?y.css(e("html"),{"overflow-y":"hidden"}):"HTML"==y.doc[0].nodeName&&y.css(e("body"),r)),!x.isios||y.ispage||y.haswrapper||y.css(e("body"),{"-webkit-overflow-scrolling":"touch"});var s=e(document.createElement("div"));s.css({position:"relative",top:0,"float":"right",width:y.opt.cursorwidth,height:0,"background-color":y.opt.cursorcolor,border:y.opt.cursorborder,"background-clip":"padding-box","-webkit-border-radius":y.opt.cursorborderradius,"-moz-border-radius":y.opt.cursorborderradius,"border-radius":y.opt.cursorborderradius}),s.hborder=parseFloat(s.outerHeight()-s.innerHeight()),s.addClass("nicescroll-cursors"),y.cursor=s;var l=e(document.createElement("div"));l.attr("id",y.id),l.addClass("nicescroll-rails nicescroll-rails-vr");var c,d,p,f=["left","right","top","bottom"];for(p in f)d=f[p],(c=y.opt.railpadding[d])?l.css("padding-"+d,c+"px"):y.opt.railpadding[d]=0;l.append(s),l.width=Math.max(parseFloat(y.opt.cursorwidth),s.outerWidth()),l.css({width:l.width+"px",zIndex:y.zindex,background:y.opt.background,cursor:"default"}),l.visibility=!0,l.scrollable=!0,l.align="left"==y.opt.railalign?0:1,y.rail=l,s=y.rail.drag=!1,!y.opt.boxzoom||y.ispage||x.isieold||(s=document.createElement("div"),y.bind(s,"click",y.doZoom),y.bind(s,"mouseenter",function(){y.zoom.css("opacity",y.opt.cursoropacitymax)}),y.bind(s,"mouseleave",function(){y.zoom.css("opacity",y.opt.cursoropacitymin)}),y.zoom=e(s),y.zoom.css({cursor:"pointer",zIndex:y.zindex,backgroundImage:"url("+y.opt.scriptpath+"zoomico.png)",height:18,width:18,backgroundPosition:"0px 0px"}),y.opt.dblclickzoom&&y.bind(y.win,"dblclick",y.doZoom),x.cantouch&&y.opt.gesturezoom&&(y.ongesturezoom=function(e){return 1.5<e.scale&&y.doZoomIn(e),.8>e.scale&&y.doZoomOut(e),y.cancelEvent(e)},y.bind(y.win,"gestureend",y.ongesturezoom))),y.railh=!1;var m;if(y.opt.horizrailenabled&&(y.css(a,{overflowX:"hidden"}),s=e(document.createElement("div")),s.css({position:"absolute",top:0,height:y.opt.cursorwidth,width:0,backgroundColor:y.opt.cursorcolor,border:y.opt.cursorborder,backgroundClip:"padding-box","-webkit-border-radius":y.opt.cursorborderradius,"-moz-border-radius":y.opt.cursorborderradius,"border-radius":y.opt.cursorborderradius}),x.isieold&&s.css("overflow","hidden"),s.wborder=parseFloat(s.outerWidth()-s.innerWidth()),s.addClass("nicescroll-cursors"),y.cursorh=s,m=e(document.createElement("div")),m.attr("id",y.id+"-hr"),m.addClass("nicescroll-rails nicescroll-rails-hr"),m.height=Math.max(parseFloat(y.opt.cursorwidth),s.outerHeight()),m.css({height:m.height+"px",zIndex:y.zindex,background:y.opt.background}),m.append(s),m.visibility=!0,m.scrollable=!0,m.align="top"==y.opt.railvalign?0:1,y.railh=m,y.railh.drag=!1),y.ispage?(l.css({position:"fixed",top:0,height:"100%"}),l.align?l.css({right:0}):l.css({left:0}),y.body.append(l),y.railh&&(m.css({position:"fixed",left:0,width:"100%"}),m.align?m.css({bottom:0}):m.css({top:0}),y.body.append(m))):(y.ishwscroll?("static"==y.win.css("position")&&y.css(y.win,{position:"relative"}),a="HTML"==y.win[0].nodeName?y.body:y.win,e(a).scrollTop(0).scrollLeft(0),y.zoom&&(y.zoom.css({position:"absolute",top:1,right:0,"margin-right":l.width+4}),a.append(y.zoom)),l.css({position:"absolute",top:0}),l.align?l.css({right:0}):l.css({left:0}),a.append(l),m&&(m.css({position:"absolute",left:0,bottom:0}),m.align?m.css({bottom:0}):m.css({top:0}),a.append(m))):(y.isfixed="fixed"==y.win.css("position"),a=y.isfixed?"fixed":"absolute",y.isfixed||(y.viewport=y.getViewport(y.win[0])),y.viewport&&(y.body=y.viewport,0==/fixed|absolute/.test(y.viewport.css("position"))&&y.css(y.viewport,{position:"relative"})),l.css({position:a}),y.zoom&&y.zoom.css({position:a}),y.updateScrollBar(),y.body.append(l),y.zoom&&y.body.append(y.zoom),y.railh&&(m.css({position:a}),y.body.append(m))),x.isios&&y.css(y.win,{"-webkit-tap-highlight-color":"rgba(0,0,0,0)","-webkit-touch-callout":"none"}),x.isie&&y.opt.disableoutline&&y.win.attr("hideFocus","true"),x.iswebkit&&y.opt.disableoutline&&y.win.css("outline","none")),!1===y.opt.autohidemode?(y.autohidedom=!1,y.rail.css({opacity:y.opt.cursoropacitymax}),y.railh&&y.railh.css({opacity:y.opt.cursoropacitymax})):!0===y.opt.autohidemode||"leave"===y.opt.autohidemode?(y.autohidedom=e().add(y.rail),x.isie8&&(y.autohidedom=y.autohidedom.add(y.cursor)),y.railh&&(y.autohidedom=y.autohidedom.add(y.railh)),y.railh&&x.isie8&&(y.autohidedom=y.autohidedom.add(y.cursorh))):"scroll"==y.opt.autohidemode?(y.autohidedom=e().add(y.rail),y.railh&&(y.autohidedom=y.autohidedom.add(y.railh))):"cursor"==y.opt.autohidemode?(y.autohidedom=e().add(y.cursor),y.railh&&(y.autohidedom=y.autohidedom.add(y.cursorh))):"hidden"==y.opt.autohidemode&&(y.autohidedom=!1,y.hide(),y.railslocked=!1),x.isie9mobile)y.scrollmom=new v(y),y.onmangotouch=function(){var e=y.getScrollTop(),o=y.getScrollLeft();if(e==y.scrollmom.lastscrolly&&o==y.scrollmom.lastscrollx)return!0;var t=e-y.mangotouch.sy,i=o-y.mangotouch.sx;if(0!=Math.round(Math.sqrt(Math.pow(i,2)+Math.pow(t,2)))){var r=0>t?-1:1,n=0>i?-1:1,a=+new Date;y.mangotouch.lazy&&clearTimeout(y.mangotouch.lazy),80<a-y.mangotouch.tm||y.mangotouch.dry!=r||y.mangotouch.drx!=n?(y.scrollmom.stop(),y.scrollmom.reset(o,e),y.mangotouch.sy=e,y.mangotouch.ly=e,y.mangotouch.sx=o,y.mangotouch.lx=o,y.mangotouch.dry=r,y.mangotouch.drx=n,y.mangotouch.tm=a):(y.scrollmom.stop(),y.scrollmom.update(y.mangotouch.sx-i,y.mangotouch.sy-t),y.mangotouch.tm=a,t=Math.max(Math.abs(y.mangotouch.ly-e),Math.abs(y.mangotouch.lx-o)),y.mangotouch.ly=e,y.mangotouch.lx=o,2<t&&(y.mangotouch.lazy=setTimeout(function(){y.mangotouch.lazy=!1,y.mangotouch.dry=0,y.mangotouch.drx=0,y.mangotouch.tm=0,y.scrollmom.doMomentum(30)},100)))}},l=y.getScrollTop(),m=y.getScrollLeft(),y.mangotouch={sy:l,ly:l,dry:0,sx:m,lx:m,drx:0,lazy:!1,tm:0},y.bind(y.docscroll,"scroll",y.onmangotouch);else{if(x.cantouch||y.istouchcapable||y.opt.touchbehavior||x.hasmstouch){y.scrollmom=new v(y),y.ontouchstart=function(o){if(o.pointerType&&2!=o.pointerType&&"touch"!=o.pointerType)return!1;if(y.hasmoving=!1,!y.railslocked){var t;if(x.hasmstouch)for(t=!!o.target&&o.target;t;){var i=e(t).getNiceScroll();if(0<i.length&&i[0].me==y.me)break;if(0<i.length)return!1;if("DIV"==t.nodeName&&t.id==y.id)break;t=!!t.parentNode&&t.parentNode}if(y.cancelScroll(),(t=y.getTarget(o))&&/INPUT/i.test(t.nodeName)&&/range/i.test(t.type))return y.stopPropagation(o);if(!("clientX"in o)&&"changedTouches"in o&&(o.clientX=o.changedTouches[0].clientX,o.clientY=o.changedTouches[0].clientY),y.forcescreen&&(i=o,o={original:o.original?o.original:o},o.clientX=i.screenX,o.clientY=i.screenY),y.rail.drag={x:o.clientX,y:o.clientY,sx:y.scroll.x,sy:y.scroll.y,st:y.getScrollTop(),sl:y.getScrollLeft(),pt:2,dl:!1},y.ispage||!y.opt.directionlockdeadzone)y.rail.drag.dl="f";else{var i=e(window).width(),r=e(window).height(),r=Math.max(0,Math.max(document.body.scrollHeight,document.documentElement.scrollHeight)-r),i=Math.max(0,Math.max(document.body.scrollWidth,document.documentElement.scrollWidth)-i);y.rail.drag.ck=!y.rail.scrollable&&y.railh.scrollable?0<r&&"v":!(!y.rail.scrollable||y.railh.scrollable)&&(0<i&&"h"),y.rail.drag.ck||(y.rail.drag.dl="f")}if(y.opt.touchbehavior&&y.isiframe&&x.isie&&(i=y.win.position(),y.rail.drag.x+=i.left,y.rail.drag.y+=i.top),y.hasmoving=!1,y.lastmouseup=!1,y.scrollmom.reset(o.clientX,o.clientY),!x.cantouch&&!this.istouchcapable&&!o.pointerType){if(!t||!/INPUT|SELECT|TEXTAREA/i.test(t.nodeName))return!y.ispage&&x.hasmousecapture&&t.setCapture(),y.opt.touchbehavior?(t.onclick&&!t._onclick&&(t._onclick=t.onclick,t.onclick=function(e){return!y.hasmoving&&void t._onclick.call(this,e)}),y.cancelEvent(o)):y.stopPropagation(o);/SUBMIT|CANCEL|BUTTON/i.test(e(t).attr("type"))&&(pc={tg:t,click:!1},y.preventclick=pc)}}},y.ontouchend=function(e){if(!y.rail.drag)return!0;if(2==y.rail.drag.pt){if(e.pointerType&&2!=e.pointerType&&"touch"!=e.pointerType)return!1;if(y.scrollmom.doMomentum(),y.rail.drag=!1,y.hasmoving&&(y.lastmouseup=!0,y.hideCursor(),x.hasmousecapture&&document.releaseCapture(),!x.cantouch))return y.cancelEvent(e)}else if(1==y.rail.drag.pt)return y.onmouseup(e)};var g=y.opt.touchbehavior&&y.isiframe&&!x.hasmousecapture;y.ontouchmove=function(o,t){if(!y.rail.drag||o.targetTouches&&y.opt.preventmultitouchscrolling&&1<o.targetTouches.length||o.pointerType&&2!=o.pointerType&&"touch"!=o.pointerType)return!1;if(2==y.rail.drag.pt){if(x.cantouch&&x.isios&&void 0===o.original)return!0;if(y.hasmoving=!0,y.preventclick&&!y.preventclick.click&&(y.preventclick.click=y.preventclick.tg.onclick||!1,y.preventclick.tg.onclick=y.onpreventclick),o=e.extend({original:o},o),"changedTouches"in o&&(o.clientX=o.changedTouches[0].clientX,o.clientY=o.changedTouches[0].clientY),y.forcescreen){var i=o;o={original:o.original?o.original:o},o.clientX=i.screenX,o.clientY=i.screenY}var r,i=r=0;g&&!t&&(r=y.win.position(),i=-r.left,r=-r.top);var n=o.clientY+r;r=n-y.rail.drag.y;var a=o.clientX+i,s=a-y.rail.drag.x,l=y.rail.drag.st-r;y.ishwscroll&&y.opt.bouncescroll?0>l?l=Math.round(l/2):l>y.page.maxh&&(l=y.page.maxh+Math.round((l-y.page.maxh)/2)):(0>l&&(n=l=0),l>y.page.maxh&&(l=y.page.maxh,n=0));var c;if(y.railh&&y.railh.scrollable&&(c=y.isrtlmode?s-y.rail.drag.sl:y.rail.drag.sl-s,y.ishwscroll&&y.opt.bouncescroll?0>c?c=Math.round(c/2):c>y.page.maxw&&(c=y.page.maxw+Math.round((c-y.page.maxw)/2)):(0>c&&(a=c=0),c>y.page.maxw&&(c=y.page.maxw,a=0))),i=!1,y.rail.drag.dl)i=!0,"v"==y.rail.drag.dl?c=y.rail.drag.sl:"h"==y.rail.drag.dl&&(l=y.rail.drag.st);else{r=Math.abs(r);var s=Math.abs(s),d=y.opt.directionlockdeadzone;if("v"==y.rail.drag.ck){if(r>d&&s<=.3*r)return y.rail.drag=!1,!0;s>d&&(y.rail.drag.dl="f",e("body").scrollTop(e("body").scrollTop()))}else if("h"==y.rail.drag.ck){if(s>d&&r<=.3*s)return y.rail.drag=!1,!0;r>d&&(y.rail.drag.dl="f",e("body").scrollLeft(e("body").scrollLeft()))}}if(y.synched("touchmove",function(){y.rail.drag&&2==y.rail.drag.pt&&(y.prepareTransition&&y.prepareTransition(0),y.rail.scrollable&&y.setScrollTop(l),y.scrollmom.update(a,n),y.railh&&y.railh.scrollable?(y.setScrollLeft(c),y.showCursor(l,c)):y.showCursor(l),x.isie10&&document.selection.clear())}),x.ischrome&&y.istouchcapable&&(i=!1),i)return y.cancelEvent(o)}else if(1==y.rail.drag.pt)return y.onmousemove(o)}}if(y.onmousedown=function(e,o){if(!y.rail.drag||1==y.rail.drag.pt){if(y.railslocked)return y.cancelEvent(e);y.cancelScroll(),y.rail.drag={x:e.clientX,y:e.clientY,sx:y.scroll.x,sy:y.scroll.y,pt:1,hr:!!o};var t=y.getTarget(e);return!y.ispage&&x.hasmousecapture&&t.setCapture(),y.isiframe&&!x.hasmousecapture&&(y.saved.csspointerevents=y.doc.css("pointer-events"),y.css(y.doc,{"pointer-events":"none"})),y.hasmoving=!1,y.cancelEvent(e)}},y.onmouseup=function(e){if(y.rail.drag)return 1!=y.rail.drag.pt||(x.hasmousecapture&&document.releaseCapture(),y.isiframe&&!x.hasmousecapture&&y.doc.css("pointer-events",y.saved.csspointerevents),y.rail.drag=!1,y.hasmoving&&y.triggerScrollEnd(),y.cancelEvent(e))},y.onmousemove=function(e){if(y.rail.drag){if(1==y.rail.drag.pt){if(x.ischrome&&0==e.which)return y.onmouseup(e);if(y.cursorfreezed=!0,y.hasmoving=!0,y.rail.drag.hr){y.scroll.x=y.rail.drag.sx+(e.clientX-y.rail.drag.x),0>y.scroll.x&&(y.scroll.x=0);var o=y.scrollvaluemaxw;y.scroll.x>o&&(y.scroll.x=o)}else y.scroll.y=y.rail.drag.sy+(e.clientY-y.rail.drag.y),0>y.scroll.y&&(y.scroll.y=0),o=y.scrollvaluemax,y.scroll.y>o&&(y.scroll.y=o);return y.synched("mousemove",function(){y.rail.drag&&1==y.rail.drag.pt&&(y.showCursor(),y.rail.drag.hr?y.hasreversehr?y.doScrollLeft(y.scrollvaluemaxw-Math.round(y.scroll.x*y.scrollratio.x),y.opt.cursordragspeed):y.doScrollLeft(Math.round(y.scroll.x*y.scrollratio.x),y.opt.cursordragspeed):y.doScrollTop(Math.round(y.scroll.y*y.scrollratio.y),y.opt.cursordragspeed))}),y.cancelEvent(e)}}else y.checkarea=0},x.cantouch||y.opt.touchbehavior)y.onpreventclick=function(e){if(y.preventclick)return y.preventclick.tg.onclick=y.preventclick.click,y.preventclick=!1,y.cancelEvent(e)},y.bind(y.win,"mousedown",y.ontouchstart),y.onclick=!x.isios&&function(e){return!y.lastmouseup||(y.lastmouseup=!1,y.cancelEvent(e))},y.opt.grabcursorenabled&&x.cursorgrabvalue&&(y.css(y.ispage?y.doc:y.win,{cursor:x.cursorgrabvalue}),y.css(y.rail,{cursor:x.cursorgrabvalue}));else{var w=function S(e){if(y.selectiondrag){if(e){var o=y.win.outerHeight();e=e.pageY-y.selectiondrag.top,0<e&&e<o&&(e=0),e>=o&&(e-=o),y.selectiondrag.df=e}0!=y.selectiondrag.df&&(y.doScrollBy(2*-Math.floor(y.selectiondrag.df/6)),y.debounced("doselectionscroll",function(){S()},50))}};y.hasTextSelected="getSelection"in document?function(){return 0<document.getSelection().rangeCount}:"selection"in document?function(){return"None"!=document.selection.type}:function(){return!1},y.onselectionstart=function(e){y.ispage||(y.selectiondrag=y.win.offset())},y.onselectionend=function(e){y.selectiondrag=!1},y.onselectiondrag=function(e){y.selectiondrag&&y.hasTextSelected()&&y.debounced("selectionscroll",function(){w(e)},250)}}x.hasw3ctouch?(y.css(y.rail,{"touch-action":"none"}),y.css(y.cursor,{"touch-action":"none"}),y.bind(y.win,"pointerdown",y.ontouchstart),y.bind(document,"pointerup",y.ontouchend),y.bind(document,"pointermove",y.ontouchmove)):x.hasmstouch?(y.css(y.rail,{"-ms-touch-action":"none"}),y.css(y.cursor,{"-ms-touch-action":"none"}),y.bind(y.win,"MSPointerDown",y.ontouchstart),y.bind(document,"MSPointerUp",y.ontouchend),y.bind(document,"MSPointerMove",y.ontouchmove),y.bind(y.cursor,"MSGestureHold",function(e){e.preventDefault()}),y.bind(y.cursor,"contextmenu",function(e){e.preventDefault()})):this.istouchcapable&&(y.bind(y.win,"touchstart",y.ontouchstart),y.bind(document,"touchend",y.ontouchend),y.bind(document,"touchcancel",y.ontouchend),y.bind(document,"touchmove",y.ontouchmove)),(y.opt.cursordragontouch||!x.cantouch&&!y.opt.touchbehavior)&&(y.rail.css({cursor:"default"}),y.railh&&y.railh.css({cursor:"default"}),y.jqbind(y.rail,"mouseenter",function(){return!(!y.ispage&&!y.win.is(":visible"))&&(y.canshowonmouseevent&&y.showCursor(),void(y.rail.active=!0))}),y.jqbind(y.rail,"mouseleave",function(){y.rail.active=!1,y.rail.drag||y.hideCursor()}),y.opt.sensitiverail&&(y.bind(y.rail,"click",function(e){y.doRailClick(e,!1,!1)}),y.bind(y.rail,"dblclick",function(e){y.doRailClick(e,!0,!1)}),y.bind(y.cursor,"click",function(e){y.cancelEvent(e)}),y.bind(y.cursor,"dblclick",function(e){y.cancelEvent(e)})),y.railh&&(y.jqbind(y.railh,"mouseenter",function(){return!(!y.ispage&&!y.win.is(":visible"))&&(y.canshowonmouseevent&&y.showCursor(),void(y.rail.active=!0))}),y.jqbind(y.railh,"mouseleave",function(){y.rail.active=!1,y.rail.drag||y.hideCursor()}),y.opt.sensitiverail&&(y.bind(y.railh,"click",function(e){y.doRailClick(e,!1,!0)}),y.bind(y.railh,"dblclick",function(e){y.doRailClick(e,!0,!0)}),y.bind(y.cursorh,"click",function(e){y.cancelEvent(e)}),y.bind(y.cursorh,"dblclick",function(e){y.cancelEvent(e)})))),x.cantouch||y.opt.touchbehavior?(y.bind(x.hasmousecapture?y.win:document,"mouseup",y.ontouchend),y.bind(document,"mousemove",y.ontouchmove),y.onclick&&y.bind(document,"click",y.onclick),y.opt.cursordragontouch?(y.bind(y.cursor,"mousedown",y.onmousedown),y.bind(y.cursor,"mouseup",y.onmouseup),y.cursorh&&y.bind(y.cursorh,"mousedown",function(e){y.onmousedown(e,!0)}),y.cursorh&&y.bind(y.cursorh,"mouseup",y.onmouseup)):(y.bind(y.rail,"mousedown",function(e){e.preventDefault()}),y.railh&&y.bind(y.railh,"mousedown",function(e){e.preventDefault()}))):(y.bind(x.hasmousecapture?y.win:document,"mouseup",y.onmouseup),y.bind(document,"mousemove",y.onmousemove),y.onclick&&y.bind(document,"click",y.onclick),y.bind(y.cursor,"mousedown",y.onmousedown),y.bind(y.cursor,"mouseup",y.onmouseup),y.railh&&(y.bind(y.cursorh,"mousedown",function(e){y.onmousedown(e,!0)}),y.bind(y.cursorh,"mouseup",y.onmouseup)),!y.ispage&&y.opt.enablescrollonselection&&(y.bind(y.win[0],"mousedown",y.onselectionstart),y.bind(document,"mouseup",y.onselectionend),y.bind(y.cursor,"mouseup",y.onselectionend),y.cursorh&&y.bind(y.cursorh,"mouseup",y.onselectionend),y.bind(document,"mousemove",y.onselectiondrag)),y.zoom&&(y.jqbind(y.zoom,"mouseenter",function(){y.canshowonmouseevent&&y.showCursor(),y.rail.active=!0}),y.jqbind(y.zoom,"mouseleave",function(){y.rail.active=!1,y.rail.drag||y.hideCursor()}))),y.opt.enablemousewheel&&(y.isiframe||y.mousewheel(x.isie&&y.ispage?document:y.win,y.onmousewheel),y.mousewheel(y.rail,y.onmousewheel),y.railh&&y.mousewheel(y.railh,y.onmousewheelhr)),y.ispage||x.cantouch||/HTML|^BODY/.test(y.win[0].nodeName)||(y.win.attr("tabindex")||y.win.attr({tabindex:i++}),y.jqbind(y.win,"focus",function(e){o=y.getTarget(e).id||!0,y.hasfocus=!0,y.canshowonmouseevent&&y.noticeCursor()}),y.jqbind(y.win,"blur",function(e){o=!1,y.hasfocus=!1}),y.jqbind(y.win,"mouseenter",function(e){t=y.getTarget(e).id||!0,y.hasmousefocus=!0,y.canshowonmouseevent&&y.noticeCursor()}),y.jqbind(y.win,"mouseleave",function(){t=!1,y.hasmousefocus=!1,y.rail.drag||y.hideCursor()}))}if(y.onkeypress=function(i){if(y.railslocked&&0==y.page.maxh)return!0;i=i?i:window.e;var r=y.getTarget(i);if(r&&/INPUT|TEXTAREA|SELECT|OPTION/.test(r.nodeName)&&(!r.getAttribute("type")&&!r.type||!/submit|button|cancel/i.tp)||e(r).attr("contenteditable"))return!0;if(y.hasfocus||y.hasmousefocus&&!o||y.ispage&&!o&&!t){if(r=i.keyCode,y.railslocked&&27!=r)return y.cancelEvent(i);var n=i.ctrlKey||!1,a=i.shiftKey||!1,s=!1;switch(r){case 38:case 63233:y.doScrollBy(72),s=!0;break;case 40:case 63235:y.doScrollBy(-72),s=!0;break;case 37:case 63232:y.railh&&(n?y.doScrollLeft(0):y.doScrollLeftBy(72),s=!0);break;case 39:case 63234:y.railh&&(n?y.doScrollLeft(y.page.maxw):y.doScrollLeftBy(-72),s=!0);break;case 33:case 63276:y.doScrollBy(y.view.h),s=!0;break;case 34:case 63277:y.doScrollBy(-y.view.h),s=!0;break;case 36:case 63273:y.railh&&n?y.doScrollPos(0,0):y.doScrollTo(0),s=!0;break;case 35:case 63275:y.railh&&n?y.doScrollPos(y.page.maxw,y.page.maxh):y.doScrollTo(y.page.maxh),s=!0;break;case 32:y.opt.spacebarenabled&&(a?y.doScrollBy(y.view.h):y.doScrollBy(-y.view.h),s=!0);break;case 27:y.zoomactive&&(y.doZoom(),s=!0)}if(s)return y.cancelEvent(i)}},y.opt.enablekeyboard&&y.bind(document,x.isopera&&!x.isopera12?"keypress":"keydown",y.onkeypress),y.bind(document,"keydown",function(e){e.ctrlKey&&(y.wheelprevented=!0)}),y.bind(document,"keyup",function(e){e.ctrlKey||(y.wheelprevented=!1)}),y.bind(window,"blur",function(e){y.wheelprevented=!1}),y.bind(window,"resize",y.lazyResize),y.bind(window,"orientationchange",y.lazyResize),y.bind(window,"load",y.lazyResize),x.ischrome&&!y.ispage&&!y.haswrapper){var b=y.win.attr("style"),l=parseFloat(y.win.css("width"))+1;y.win.css("width",l),y.synched("chromefix",function(){y.win.attr("style",b)})}y.onAttributeChange=function(e){y.lazyResize(y.isieold?250:30)},y.isie11||!1===h||(y.observerbody=new h(function(o){if(o.forEach(function(o){if("attributes"==o.type)return e("body").hasClass("modal-open")&&e("body").hasClass("modal-dialog")&&!e.contains(e(".modal-dialog")[0],y.doc[0])?y.hide():y.show()}),document.body.scrollHeight!=y.page.maxh)return y.lazyResize(30)}),y.observerbody.observe(document.body,{childList:!0,subtree:!0,characterData:!1,attributes:!0,attributeFilter:["class"]})),y.ispage||y.haswrapper||(!1!==h?(y.observer=new h(function(e){e.forEach(y.onAttributeChange)}),y.observer.observe(y.win[0],{childList:!0,characterData:!1,attributes:!0,subtree:!1}),y.observerremover=new h(function(e){e.forEach(function(e){if(0<e.removedNodes.length)for(var o in e.removedNodes)if(y&&e.removedNodes[o]==y.win[0])return y.remove()})}),y.observerremover.observe(y.win[0].parentNode,{childList:!0,characterData:!1,attributes:!1,subtree:!1})):(y.bind(y.win,x.isie&&!x.isie9?"propertychange":"DOMAttrModified",y.onAttributeChange),x.isie9&&y.win[0].attachEvent("onpropertychange",y.onAttributeChange),y.bind(y.win,"DOMNodeRemoved",function(e){e.target==y.win[0]&&y.remove()}))),!y.ispage&&y.opt.boxzoom&&y.bind(window,"resize",y.resizeZoom),y.istextarea&&(y.bind(y.win,"keydown",y.lazyResize),y.bind(y.win,"mouseup",y.lazyResize)),y.lazyResize(30)}if("IFRAME"==this.doc[0].nodeName){var k=function(){y.iframexd=!1;var o;try{o="contentDocument"in this?this.contentDocument:this.contentWindow.document}catch(t){y.iframexd=!0,o=!1}if(y.iframexd)return"console"in window&&console.log("NiceScroll error: policy restriced iframe"),!0;if(y.forcescreen=!0,y.isiframe&&(y.iframe={doc:e(o),html:y.doc.contents().find("html")[0],body:y.doc.contents().find("body")[0]},y.getContentSize=function(){return{w:Math.max(y.iframe.html.scrollWidth,y.iframe.body.scrollWidth),h:Math.max(y.iframe.html.scrollHeight,y.iframe.body.scrollHeight)}},y.docscroll=e(y.iframe.body)),!x.isios&&y.opt.iframeautoresize&&!y.isiframe){y.win.scrollTop(0),y.doc.height("");var i=Math.max(o.getElementsByTagName("html")[0].scrollHeight,o.body.scrollHeight);y.doc.height(i)}y.lazyResize(30),x.isie7&&y.css(e(y.iframe.html),r),y.css(e(y.iframe.body),r),x.isios&&y.haswrapper&&y.css(e(o.body),{"-webkit-transform":"translate3d(0,0,0)"}),"contentWindow"in this?y.bind(this.contentWindow,"scroll",y.onscroll):y.bind(o,"scroll",y.onscroll),y.opt.enablemousewheel&&y.mousewheel(o,y.onmousewheel),y.opt.enablekeyboard&&y.bind(o,x.isopera?"keypress":"keydown",y.onkeypress),(x.cantouch||y.opt.touchbehavior)&&(y.bind(o,"mousedown",y.ontouchstart),y.bind(o,"mousemove",function(e){return y.ontouchmove(e,!0)}),y.opt.grabcursorenabled&&x.cursorgrabvalue&&y.css(e(o.body),{cursor:x.cursorgrabvalue})),y.bind(o,"mouseup",y.ontouchend),y.zoom&&(y.opt.dblclickzoom&&y.bind(o,"dblclick",y.doZoom),y.ongesturezoom&&y.bind(o,"gestureend",y.ongesturezoom))};this.doc[0].readyState&&"complete"==this.doc[0].readyState&&setTimeout(function(){k.call(y.doc[0],!1)},500),y.bind(this.doc,"load",k)}},this.showCursor=function(e,o){if(y.cursortimeout&&(clearTimeout(y.cursortimeout),y.cursortimeout=0),y.rail){if(y.autohidedom&&(y.autohidedom.stop().css({opacity:y.opt.cursoropacitymax}),y.cursoractive=!0),y.rail.drag&&1==y.rail.drag.pt||(void 0!==e&&!1!==e&&(y.scroll.y=Math.round(1*e/y.scrollratio.y)),void 0!==o&&(y.scroll.x=Math.round(1*o/y.scrollratio.x))),y.cursor.css({height:y.cursorheight,top:y.scroll.y}),y.cursorh){var t=y.hasreversehr?y.scrollvaluemaxw-y.scroll.x:y.scroll.x;!y.rail.align&&y.rail.visibility?y.cursorh.css({width:y.cursorwidth,left:t+y.rail.width}):y.cursorh.css({width:y.cursorwidth,left:t}),y.cursoractive=!0}y.zoom&&y.zoom.stop().css({opacity:y.opt.cursoropacitymax})}},this.hideCursor=function(e){y.cursortimeout||!y.rail||!y.autohidedom||y.hasmousefocus&&"leave"==y.opt.autohidemode||(y.cursortimeout=setTimeout(function(){y.rail.active&&y.showonmouseevent||(y.autohidedom.stop().animate({opacity:y.opt.cursoropacitymin}),y.zoom&&y.zoom.stop().animate({opacity:y.opt.cursoropacitymin}),y.cursoractive=!1),y.cursortimeout=0},e||y.opt.hidecursordelay))},this.noticeCursor=function(e,o,t){y.showCursor(o,t),y.rail.active||y.hideCursor(e)},this.getContentSize=y.ispage?function(){return{w:Math.max(document.body.scrollWidth,document.documentElement.scrollWidth),h:Math.max(document.body.scrollHeight,document.documentElement.scrollHeight)}}:y.haswrapper?function(){return{w:y.doc.outerWidth()+parseInt(y.win.css("paddingLeft"))+parseInt(y.win.css("paddingRight")),h:y.doc.outerHeight()+parseInt(y.win.css("paddingTop"))+parseInt(y.win.css("paddingBottom"))}}:function(){return{w:y.docscroll[0].scrollWidth,h:y.docscroll[0].scrollHeight}},this.onResize=function(e,o){if(!y||!y.win)return!1;if(!y.haswrapper&&!y.ispage){if("none"==y.win.css("display"))return y.visibility&&y.hideRail().hideRailHr(),!1;y.hidden||y.visibility||y.showRail().showRailHr()}var t=y.page.maxh,i=y.page.maxw,r=y.view.h,n=y.view.w;if(y.view={w:y.ispage?y.win.width():parseInt(y.win[0].clientWidth),h:y.ispage?y.win.height():parseInt(y.win[0].clientHeight)},y.page=o?o:y.getContentSize(),y.page.maxh=Math.max(0,y.page.h-y.view.h),y.page.maxw=Math.max(0,y.page.w-y.view.w),y.page.maxh==t&&y.page.maxw==i&&y.view.w==n&&y.view.h==r){if(y.ispage)return y;if(t=y.win.offset(),y.lastposition&&(i=y.lastposition,i.top==t.top&&i.left==t.left))return y;y.lastposition=t}return 0==y.page.maxh?(y.hideRail(),y.scrollvaluemax=0,y.scroll.y=0,y.scrollratio.y=0,y.cursorheight=0,y.setScrollTop(0),y.rail&&(y.rail.scrollable=!1)):(y.page.maxh-=y.opt.railpadding.top+y.opt.railpadding.bottom,y.rail.scrollable=!0),0==y.page.maxw?(y.hideRailHr(),y.scrollvaluemaxw=0,y.scroll.x=0,y.scrollratio.x=0,y.cursorwidth=0,y.setScrollLeft(0),y.railh&&(y.railh.scrollable=!1)):(y.page.maxw-=y.opt.railpadding.left+y.opt.railpadding.right,y.railh&&(y.railh.scrollable=y.opt.horizrailenabled)),y.railslocked=y.locked||0==y.page.maxh&&0==y.page.maxw,y.railslocked?(y.ispage||y.updateScrollBar(y.view),!1):(y.hidden||y.visibility?!y.railh||y.hidden||y.railh.visibility||y.showRailHr():y.showRail().showRailHr(),y.istextarea&&y.win.css("resize")&&"none"!=y.win.css("resize")&&(y.view.h-=20),y.cursorheight=Math.min(y.view.h,Math.round(y.view.h/y.page.h*y.view.h)),y.cursorheight=y.opt.cursorfixedheight?y.opt.cursorfixedheight:Math.max(y.opt.cursorminheight,y.cursorheight),y.cursorwidth=Math.min(y.view.w,Math.round(y.view.w/y.page.w*y.view.w)),y.cursorwidth=y.opt.cursorfixedheight?y.opt.cursorfixedheight:Math.max(y.opt.cursorminheight,y.cursorwidth),y.scrollvaluemax=y.view.h-y.cursorheight-y.cursor.hborder-(y.opt.railpadding.top+y.opt.railpadding.bottom),y.railh&&(y.railh.width=0<y.page.maxh?y.view.w-y.rail.width:y.view.w,y.scrollvaluemaxw=y.railh.width-y.cursorwidth-y.cursorh.wborder-(y.opt.railpadding.left+y.opt.railpadding.right)),y.ispage||y.updateScrollBar(y.view),y.scrollratio={x:y.page.maxw/y.scrollvaluemaxw,y:y.page.maxh/y.scrollvaluemax},y.getScrollTop()>y.page.maxh?y.doScrollTop(y.page.maxh):(y.scroll.y=Math.round(y.getScrollTop()*(1/y.scrollratio.y)),y.scroll.x=Math.round(y.getScrollLeft()*(1/y.scrollratio.x)),y.cursoractive&&y.noticeCursor()),y.scroll.y&&0==y.getScrollTop()&&y.doScrollTo(Math.floor(y.scroll.y*y.scrollratio.y)),y)},this.resize=y.onResize,this.hlazyresize=0,this.lazyResize=function(e){return y.haswrapper||y.hide(),y.hlazyresize&&clearTimeout(y.hlazyresize),y.hlazyresize=setTimeout(function(){y&&y.show().resize()},240),y},this.jqbind=function(o,t,i){y.events.push({e:o,n:t,f:i,q:!0}),e(o).bind(t,i)},this.mousewheel=function(e,o,t){if(e="jquery"in e?e[0]:e,"onwheel"in document.createElement("div"))y._bind(e,"wheel",o,t||!1);else{var i=void 0!==document.onmousewheel?"mousewheel":"DOMMouseScroll";g(e,i,o,t||!1),"DOMMouseScroll"==i&&g(e,"MozMousePixelScroll",o,t||!1)}},x.haseventlistener?(this.bind=function(e,o,t,i){y._bind("jquery"in e?e[0]:e,o,t,i||!1)},this._bind=function(e,o,t,i){y.events.push({e:e,n:o,f:t,b:i,q:!1}),e.addEventListener(o,t,i||!1)},this.cancelEvent=function(e){return!!e&&(e=e.original?e.original:e,e.cancelable&&e.preventDefault(),e.stopPropagation(),e.preventManipulation&&e.preventManipulation(),!1)},this.stopPropagation=function(e){return!!e&&(e=e.original?e.original:e,e.stopPropagation(),!1)},this._unbind=function(e,o,t,i){e.removeEventListener(o,t,i)}):(this.bind=function(e,o,t,i){var r="jquery"in e?e[0]:e;y._bind(r,o,function(e){return(e=e||window.event||!1)&&e.srcElement&&(e.target=e.srcElement),"pageY"in e||(e.pageX=e.clientX+document.documentElement.scrollLeft,e.pageY=e.clientY+document.documentElement.scrollTop),!1!==t.call(r,e)&&!1!==i||y.cancelEvent(e)})},this._bind=function(e,o,t,i){y.events.push({e:e,n:o,f:t,b:i,q:!1}),e.attachEvent?e.attachEvent("on"+o,t):e["on"+o]=t},this.cancelEvent=function(e){return!!(e=window.event||!1)&&(e.cancelBubble=!0,e.cancel=!0,e.returnValue=!1)},this.stopPropagation=function(e){return!!(e=window.event||!1)&&(e.cancelBubble=!0,!1)},this._unbind=function(e,o,t,i){e.detachEvent?e.detachEvent("on"+o,t):e["on"+o]=!1}),this.unbindAll=function(){for(var e=0;e<y.events.length;e++){var o=y.events[e];o.q?o.e.unbind(o.n,o.f):y._unbind(o.e,o.n,o.f,o.b)}},this.showRail=function(){return 0==y.page.maxh||!y.ispage&&"none"==y.win.css("display")||(y.visibility=!0,y.rail.visibility=!0,y.rail.css("display","block")),y},this.showRailHr=function(){return y.railh?(0==y.page.maxw||!y.ispage&&"none"==y.win.css("display")||(y.railh.visibility=!0,y.railh.css("display","block")),y):y},this.hideRail=function(){return y.visibility=!1,y.rail.visibility=!1,y.rail.css("display","none"),y},this.hideRailHr=function(){return y.railh?(y.railh.visibility=!1,y.railh.css("display","none"),y):y},this.show=function(){return y.hidden=!1,y.railslocked=!1,y.showRail().showRailHr()},this.hide=function(){return y.hidden=!0,y.railslocked=!0,y.hideRail().hideRailHr()},this.toggle=function(){return y.hidden?y.show():y.hide()},this.remove=function(){y.stop(),y.cursortimeout&&clearTimeout(y.cursortimeout);for(var o in y.delaylist)y.delaylist[o]&&c(y.delaylist[o].h);for(y.doZoomOut(),y.unbindAll(),x.isie9&&y.win[0].detachEvent("onpropertychange",y.onAttributeChange),!1!==y.observer&&y.observer.disconnect(),!1!==y.observerremover&&y.observerremover.disconnect(),!1!==y.observerbody&&y.observerbody.disconnect(),y.events=null,y.cursor&&y.cursor.remove(),y.cursorh&&y.cursorh.remove(),y.rail&&y.rail.remove(),y.railh&&y.railh.remove(),y.zoom&&y.zoom.remove(),o=0;o<y.saved.css.length;o++){var t=y.saved.css[o];t[0].css(t[1],void 0===t[2]?"":t[2])}y.saved=!1,y.me.data("__nicescroll","");var i=e.nicescroll;i.each(function(e){if(this&&this.id===y.id){delete i[e];for(var o=++e;o<i.length;o++,e++)i[e]=i[o];i.length--,i.length&&delete i[i.length]}});for(var r in y)y[r]=null,delete y[r];y=null},this.scrollstart=function(e){return this.onscrollstart=e,y},this.scrollend=function(e){return this.onscrollend=e,y},this.scrollcancel=function(e){return this.onscrollcancel=e,y},this.zoomin=function(e){return this.onzoomin=e,y},this.zoomout=function(e){return this.onzoomout=e,y},this.isScrollable=function(o){if(o=o.target?o.target:o,"OPTION"==o.nodeName)return!0;for(;o&&1==o.nodeType&&!/^BODY|HTML/.test(o.nodeName);){var t=e(o),t=t.css("overflowY")||t.css("overflowX")||t.css("overflow")||"";if(/scroll|auto/.test(t))return o.clientHeight!=o.scrollHeight;o=!!o.parentNode&&o.parentNode}return!1},this.getViewport=function(o){for(o=!(!o||!o.parentNode)&&o.parentNode;o&&1==o.nodeType&&!/^BODY|HTML/.test(o.nodeName);){var t=e(o);if(/fixed|absolute/.test(t.css("position")))return t;var i=t.css("overflowY")||t.css("overflowX")||t.css("overflow")||"";if(/scroll|auto/.test(i)&&o.clientHeight!=o.scrollHeight||0<t.getNiceScroll().length)return t;o=!!o.parentNode&&o.parentNode}return!1},this.triggerScrollEnd=function(){if(y.onscrollend){var e=y.getScrollLeft(),o=y.getScrollTop();y.onscrollend.call(y,{type:"scrollend",current:{x:e,y:o},end:{x:e,y:o}})}},this.onmousewheel=function(e){if(!y.wheelprevented){if(y.railslocked)return y.debounced("checkunlock",y.resize,250),!0;if(y.rail.drag)return y.cancelEvent(e);if("auto"==y.opt.oneaxismousemode&&0!=e.deltaX&&(y.opt.oneaxismousemode=!1),y.opt.oneaxismousemode&&0==e.deltaX&&!y.rail.scrollable)return!y.railh||!y.railh.scrollable||y.onmousewheelhr(e);var o=+new Date,t=!1;return y.opt.preservenativescrolling&&y.checkarea+600<o&&(y.nativescrollingarea=y.isScrollable(e),t=!0),y.checkarea=o,!!y.nativescrollingarea||((e=w(e,!1,t))&&(y.checkarea=0),e)}},this.onmousewheelhr=function(e){if(!y.wheelprevented){if(y.railslocked||!y.railh.scrollable)return!0;if(y.rail.drag)return y.cancelEvent(e);var o=+new Date,t=!1;return y.opt.preservenativescrolling&&y.checkarea+600<o&&(y.nativescrollingarea=y.isScrollable(e),t=!0),y.checkarea=o,!!y.nativescrollingarea||(y.railslocked?y.cancelEvent(e):w(e,!0,t))}},this.stop=function(){return y.cancelScroll(),y.scrollmon&&y.scrollmon.stop(),
y.cursorfreezed=!1,y.scroll.y=Math.round(y.getScrollTop()*(1/y.scrollratio.y)),y.noticeCursor(),y},this.getTransitionSpeed=function(e){return e=Math.min(Math.round(10*y.opt.scrollspeed),Math.round(e/20*y.opt.scrollspeed)),20<e?e:0},y.opt.smoothscroll?y.ishwscroll&&x.hastransition&&y.opt.usetransition&&y.opt.smoothscroll?(this.prepareTransition=function(e,o){var t=o?20<e?e:0:y.getTransitionSpeed(e),i=t?x.prefixstyle+"transform "+t+"ms ease-out":"";return y.lasttransitionstyle&&y.lasttransitionstyle==i||(y.lasttransitionstyle=i,y.doc.css(x.transitionstyle,i)),t},this.doScrollLeft=function(e,o){var t=y.scrollrunning?y.newscrolly:y.getScrollTop();y.doScrollPos(e,t,o)},this.doScrollTop=function(e,o){var t=y.scrollrunning?y.newscrollx:y.getScrollLeft();y.doScrollPos(t,e,o)},this.doScrollPos=function(e,o,t){var i=y.getScrollTop(),r=y.getScrollLeft();return(0>(y.newscrolly-i)*(o-i)||0>(y.newscrollx-r)*(e-r))&&y.cancelScroll(),0==y.opt.bouncescroll&&(0>o?o=0:o>y.page.maxh&&(o=y.page.maxh),0>e?e=0:e>y.page.maxw&&(e=y.page.maxw)),(!y.scrollrunning||e!=y.newscrollx||o!=y.newscrolly)&&(y.newscrolly=o,y.newscrollx=e,y.newscrollspeed=t||!1,!y.timer&&void(y.timer=setTimeout(function(){var t=y.getScrollTop(),i=y.getScrollLeft(),r=Math.round(Math.sqrt(Math.pow(e-i,2)+Math.pow(o-t,2))),r=y.newscrollspeed&&1<y.newscrollspeed?y.newscrollspeed:y.getTransitionSpeed(r);y.newscrollspeed&&1>=y.newscrollspeed&&(r*=y.newscrollspeed),y.prepareTransition(r,!0),y.timerscroll&&y.timerscroll.tm&&clearInterval(y.timerscroll.tm),0<r&&(!y.scrollrunning&&y.onscrollstart&&y.onscrollstart.call(y,{type:"scrollstart",current:{x:i,y:t},request:{x:e,y:o},end:{x:y.newscrollx,y:y.newscrolly},speed:r}),x.transitionend?y.scrollendtrapped||(y.scrollendtrapped=!0,y.bind(y.doc,x.transitionend,y.onScrollTransitionEnd,!1)):(y.scrollendtrapped&&clearTimeout(y.scrollendtrapped),y.scrollendtrapped=setTimeout(y.onScrollTransitionEnd,r)),y.timerscroll={bz:new _(t,y.newscrolly,r,0,0,.58,1),bh:new _(i,y.newscrollx,r,0,0,.58,1)},y.cursorfreezed||(y.timerscroll.tm=setInterval(function(){y.showCursor(y.getScrollTop(),y.getScrollLeft())},60))),y.synched("doScroll-set",function(){y.timer=0,y.scrollendtrapped&&(y.scrollrunning=!0),y.setScrollTop(y.newscrolly),y.setScrollLeft(y.newscrollx),y.scrollendtrapped||y.onScrollTransitionEnd()})},50)))},this.cancelScroll=function(){if(!y.scrollendtrapped)return!0;var e=y.getScrollTop(),o=y.getScrollLeft();return y.scrollrunning=!1,x.transitionend||clearTimeout(x.transitionend),y.scrollendtrapped=!1,y._unbind(y.doc[0],x.transitionend,y.onScrollTransitionEnd),y.prepareTransition(0),y.setScrollTop(e),y.railh&&y.setScrollLeft(o),y.timerscroll&&y.timerscroll.tm&&clearInterval(y.timerscroll.tm),y.timerscroll=!1,y.cursorfreezed=!1,y.showCursor(e,o),y},this.onScrollTransitionEnd=function(){y.scrollendtrapped&&y._unbind(y.doc[0],x.transitionend,y.onScrollTransitionEnd),y.scrollendtrapped=!1,y.prepareTransition(0),y.timerscroll&&y.timerscroll.tm&&clearInterval(y.timerscroll.tm),y.timerscroll=!1;var e=y.getScrollTop(),o=y.getScrollLeft();return y.setScrollTop(e),y.railh&&y.setScrollLeft(o),y.noticeCursor(!1,e,o),y.cursorfreezed=!1,0>e?e=0:e>y.page.maxh&&(e=y.page.maxh),0>o?o=0:o>y.page.maxw&&(o=y.page.maxw),e!=y.newscrolly||o!=y.newscrollx?y.doScrollPos(o,e,y.opt.snapbackspeed):(y.onscrollend&&y.scrollrunning&&y.triggerScrollEnd(),void(y.scrollrunning=!1))}):(this.doScrollLeft=function(e,o){var t=y.scrollrunning?y.newscrolly:y.getScrollTop();y.doScrollPos(e,t,o)},this.doScrollTop=function(e,o){var t=y.scrollrunning?y.newscrollx:y.getScrollLeft();y.doScrollPos(t,e,o)},this.doScrollPos=function(e,o,t){function i(){if(y.cancelAnimationFrame)return!0;if(y.scrollrunning=!0,u=1-u)return y.timer=l(i)||1;var e,o,t=0,r=o=y.getScrollTop();y.dst.ay?(r=y.bzscroll?y.dst.py+y.bzscroll.getNow()*y.dst.ay:y.newscrolly,e=r-o,(0>e&&r<y.newscrolly||0<e&&r>y.newscrolly)&&(r=y.newscrolly),y.setScrollTop(r),r==y.newscrolly&&(t=1)):t=1,o=e=y.getScrollLeft(),y.dst.ax?(o=y.bzscroll?y.dst.px+y.bzscroll.getNow()*y.dst.ax:y.newscrollx,e=o-e,(0>e&&o<y.newscrollx||0<e&&o>y.newscrollx)&&(o=y.newscrollx),y.setScrollLeft(o),o==y.newscrollx&&(t+=1)):t+=1,2==t?(y.timer=0,y.cursorfreezed=!1,y.bzscroll=!1,y.scrollrunning=!1,0>r?r=0:r>y.page.maxh&&(r=Math.max(0,y.page.maxh)),0>o?o=0:o>y.page.maxw&&(o=y.page.maxw),o!=y.newscrollx||r!=y.newscrolly?y.doScrollPos(o,r):y.onscrollend&&y.triggerScrollEnd()):y.timer=l(i)||1}if(o=void 0===o||!1===o?y.getScrollTop(!0):o,y.timer&&y.newscrolly==o&&y.newscrollx==e)return!0;y.timer&&c(y.timer),y.timer=0;var r=y.getScrollTop(),n=y.getScrollLeft();(0>(y.newscrolly-r)*(o-r)||0>(y.newscrollx-n)*(e-n))&&y.cancelScroll(),y.newscrolly=o,y.newscrollx=e,y.bouncescroll&&y.rail.visibility||(0>y.newscrolly?y.newscrolly=0:y.newscrolly>y.page.maxh&&(y.newscrolly=y.page.maxh)),y.bouncescroll&&y.railh.visibility||(0>y.newscrollx?y.newscrollx=0:y.newscrollx>y.page.maxw&&(y.newscrollx=y.page.maxw)),y.dst={},y.dst.x=e-n,y.dst.y=o-r,y.dst.px=n,y.dst.py=r;var a=Math.round(Math.sqrt(Math.pow(y.dst.x,2)+Math.pow(y.dst.y,2)));y.dst.ax=y.dst.x/a,y.dst.ay=y.dst.y/a;var s=0,d=a;if(0==y.dst.x?(s=r,d=o,y.dst.ay=1,y.dst.py=0):0==y.dst.y&&(s=n,d=e,y.dst.ax=1,y.dst.px=0),a=y.getTransitionSpeed(a),t&&1>=t&&(a*=t),y.bzscroll=0<a&&(y.bzscroll?y.bzscroll.update(d,a):new _(s,d,a,0,1,0,1)),!y.timer){(r==y.page.maxh&&o>=y.page.maxh||n==y.page.maxw&&e>=y.page.maxw)&&y.checkContentSize();var u=1;y.cancelAnimationFrame=!1,y.timer=1,y.onscrollstart&&!y.scrollrunning&&y.onscrollstart.call(y,{type:"scrollstart",current:{x:n,y:r},request:{x:e,y:o},end:{x:y.newscrollx,y:y.newscrolly},speed:a}),i(),(r==y.page.maxh&&o>=r||n==y.page.maxw&&e>=n)&&y.checkContentSize(),y.noticeCursor()}},this.cancelScroll=function(){return y.timer&&c(y.timer),y.timer=0,y.bzscroll=!1,y.scrollrunning=!1,y}):(this.doScrollLeft=function(e,o){var t=y.getScrollTop();y.doScrollPos(e,t,o)},this.doScrollTop=function(e,o){var t=y.getScrollLeft();y.doScrollPos(t,e,o)},this.doScrollPos=function(e,o,t){var i=e>y.page.maxw?y.page.maxw:e;0>i&&(i=0);var r=o>y.page.maxh?y.page.maxh:o;0>r&&(r=0),y.synched("scroll",function(){y.setScrollTop(r),y.setScrollLeft(i)})},this.cancelScroll=function(){}),this.doScrollBy=function(e,o){var t=0,t=o?Math.floor((y.scroll.y-e)*y.scrollratio.y):(y.timer?y.newscrolly:y.getScrollTop(!0))-e;if(y.bouncescroll){var i=Math.round(y.view.h/2);t<-i?t=-i:t>y.page.maxh+i&&(t=y.page.maxh+i)}return y.cursorfreezed=!1,i=y.getScrollTop(!0),0>t&&0>=i?y.noticeCursor():t>y.page.maxh&&i>=y.page.maxh?(y.checkContentSize(),y.noticeCursor()):void y.doScrollTop(t)},this.doScrollLeftBy=function(e,o){var t=0,t=o?Math.floor((y.scroll.x-e)*y.scrollratio.x):(y.timer?y.newscrollx:y.getScrollLeft(!0))-e;if(y.bouncescroll){var i=Math.round(y.view.w/2);t<-i?t=-i:t>y.page.maxw+i&&(t=y.page.maxw+i)}return y.cursorfreezed=!1,i=y.getScrollLeft(!0),0>t&&0>=i||t>y.page.maxw&&i>=y.page.maxw?y.noticeCursor():void y.doScrollLeft(t)},this.doScrollTo=function(e,o){y.cursorfreezed=!1,y.doScrollTop(e)},this.checkContentSize=function(){var e=y.getContentSize();e.h==y.page.h&&e.w==y.page.w||y.resize(!1,e)},y.onscroll=function(e){y.rail.drag||y.cursorfreezed||y.synched("scroll",function(){y.scroll.y=Math.round(y.getScrollTop()*(1/y.scrollratio.y)),y.railh&&(y.scroll.x=Math.round(y.getScrollLeft()*(1/y.scrollratio.x))),y.noticeCursor()})},y.bind(y.docscroll,"scroll",y.onscroll),this.doZoomIn=function(o){if(!y.zoomactive){y.zoomactive=!0,y.zoomrestore={style:{}};var t,i="position top left zIndex backgroundColor marginTop marginBottom marginLeft marginRight".split(" "),r=y.win[0].style;for(t in i){var a=i[t];y.zoomrestore.style[a]=void 0!==r[a]?r[a]:""}return y.zoomrestore.style.width=y.win.css("width"),y.zoomrestore.style.height=y.win.css("height"),y.zoomrestore.padding={w:y.win.outerWidth()-y.win.width(),h:y.win.outerHeight()-y.win.height()},x.isios4&&(y.zoomrestore.scrollTop=e(window).scrollTop(),e(window).scrollTop(0)),y.win.css({position:x.isios4?"absolute":"fixed",top:0,left:0,zIndex:n+100,margin:0}),i=y.win.css("backgroundColor"),(""==i||/transparent|rgba\(0, 0, 0, 0\)|rgba\(0,0,0,0\)/.test(i))&&y.win.css("backgroundColor","#fff"),y.rail.css({zIndex:n+101}),y.zoom.css({zIndex:n+102}),y.zoom.css("backgroundPosition","0px -18px"),y.resizeZoom(),y.onzoomin&&y.onzoomin.call(y),y.cancelEvent(o)}},this.doZoomOut=function(o){if(y.zoomactive)return y.zoomactive=!1,y.win.css("margin",""),y.win.css(y.zoomrestore.style),x.isios4&&e(window).scrollTop(y.zoomrestore.scrollTop),y.rail.css({"z-index":y.zindex}),y.zoom.css({"z-index":y.zindex}),y.zoomrestore=!1,y.zoom.css("backgroundPosition","0px 0px"),y.onResize(),y.onzoomout&&y.onzoomout.call(y),y.cancelEvent(o)},this.doZoom=function(e){return y.zoomactive?y.doZoomOut(e):y.doZoomIn(e)},this.resizeZoom=function(){if(y.zoomactive){var o=y.getScrollTop();y.win.css({width:e(window).width()-y.zoomrestore.padding.w+"px",height:e(window).height()-y.zoomrestore.padding.h+"px"}),y.onResize(),y.setScrollTop(Math.min(y.page.maxh,o))}},this.init(),e.nicescroll.push(this)},v=function(e){var o=this;this.nc=e,this.steptime=this.lasttime=this.speedy=this.speedx=this.lasty=this.lastx=0,this.snapy=this.snapx=!1,this.demuly=this.demulx=0,this.lastscrolly=this.lastscrollx=-1,this.timer=this.chky=this.chkx=0,this.time=function(){return+new Date},this.reset=function(e,t){o.stop();var i=o.time();o.steptime=0,o.lasttime=i,o.speedx=0,o.speedy=0,o.lastx=e,o.lasty=t,o.lastscrollx=-1,o.lastscrolly=-1},this.update=function(e,t){var i=o.time();o.steptime=i-o.lasttime,o.lasttime=i;var i=t-o.lasty,r=e-o.lastx,n=o.nc.getScrollTop(),a=o.nc.getScrollLeft(),n=n+i,a=a+r;o.snapx=0>a||a>o.nc.page.maxw,o.snapy=0>n||n>o.nc.page.maxh,o.speedx=r,o.speedy=i,o.lastx=e,o.lasty=t},this.stop=function(){o.nc.unsynched("domomentum2d"),o.timer&&clearTimeout(o.timer),o.timer=0,o.lastscrollx=-1,o.lastscrolly=-1},this.doSnapy=function(e,t){var i=!1;0>t?(t=0,i=!0):t>o.nc.page.maxh&&(t=o.nc.page.maxh,i=!0),0>e?(e=0,i=!0):e>o.nc.page.maxw&&(e=o.nc.page.maxw,i=!0),i?o.nc.doScrollPos(e,t,o.nc.opt.snapbackspeed):o.nc.triggerScrollEnd()},this.doMomentum=function(e){var t=o.time(),i=e?t+e:o.lasttime;e=o.nc.getScrollLeft();var r=o.nc.getScrollTop(),n=o.nc.page.maxh,a=o.nc.page.maxw;if(o.speedx=0<a?Math.min(60,o.speedx):0,o.speedy=0<n?Math.min(60,o.speedy):0,i=i&&60>=t-i,(0>r||r>n||0>e||e>a)&&(i=!1),e=!(!o.speedx||!i)&&o.speedx,o.speedy&&i&&o.speedy||e){var s=Math.max(16,o.steptime);50<s&&(e=s/50,o.speedx*=e,o.speedy*=e,s=50),o.demulxy=0,o.lastscrollx=o.nc.getScrollLeft(),o.chkx=o.lastscrollx,o.lastscrolly=o.nc.getScrollTop(),o.chky=o.lastscrolly;var l=o.lastscrollx,c=o.lastscrolly,d=function u(){var e=600<o.time()-t?.04:.02;o.speedx&&(l=Math.floor(o.lastscrollx-o.speedx*(1-o.demulxy)),o.lastscrollx=l,0>l||l>a)&&(e=.1),o.speedy&&(c=Math.floor(o.lastscrolly-o.speedy*(1-o.demulxy)),o.lastscrolly=c,0>c||c>n)&&(e=.1),o.demulxy=Math.min(1,o.demulxy+e),o.nc.synched("domomentum2d",function(){o.speedx&&(o.nc.getScrollLeft(),o.chkx=l,o.nc.setScrollLeft(l)),o.speedy&&(o.nc.getScrollTop(),o.chky=c,o.nc.setScrollTop(c)),o.timer||(o.nc.hideCursor(),o.doSnapy(l,c))}),1>o.demulxy?o.timer=setTimeout(u,s):(o.stop(),o.nc.hideCursor(),o.doSnapy(l,c))};d()}else o.doSnapy(o.nc.getScrollLeft(),o.nc.getScrollTop())}},w=e.fn.scrollTop;e.cssHooks.pageYOffset={get:function(o,t,i){return(t=e.data(o,"__nicescroll")||!1)&&t.ishwscroll?t.getScrollTop():w.call(o)},set:function(o,t){var i=e.data(o,"__nicescroll")||!1;return i&&i.ishwscroll?i.setScrollTop(parseInt(t)):w.call(o,t),this}},e.fn.scrollTop=function(o){if(void 0===o){var t=!!this[0]&&(e.data(this[0],"__nicescroll")||!1);return t&&t.ishwscroll?t.getScrollTop():w.call(this)}return this.each(function(){var t=e.data(this,"__nicescroll")||!1;t&&t.ishwscroll?t.setScrollTop(parseInt(o)):w.call(e(this),o)})};var y=e.fn.scrollLeft;e.cssHooks.pageXOffset={get:function(o,t,i){return(t=e.data(o,"__nicescroll")||!1)&&t.ishwscroll?t.getScrollLeft():y.call(o)},set:function(o,t){var i=e.data(o,"__nicescroll")||!1;return i&&i.ishwscroll?i.setScrollLeft(parseInt(t)):y.call(o,t),this}},e.fn.scrollLeft=function(o){if(void 0===o){var t=!!this[0]&&(e.data(this[0],"__nicescroll")||!1);return t&&t.ishwscroll?t.getScrollLeft():y.call(this)}return this.each(function(){var t=e.data(this,"__nicescroll")||!1;t&&t.ishwscroll?t.setScrollLeft(parseInt(o)):y.call(e(this),o)})};var b=function(o){var t=this;if(this.length=0,this.name="nicescrollarray",this.each=function(o){return e.each(t,o),t},this.push=function(e){t[t.length]=e,t.length++},this.eq=function(e){return t[e]},o)for(var i=0;i<o.length;i++){var r=e.data(o[i],"__nicescroll")||!1;r&&(this[this.length]=r,this.length++)}return this};!function(e,o,t){for(var i=0;i<o.length;i++)t(e,o[i])}(b.prototype,"show hide toggle onResize resize remove stop doScrollPos".split(" "),function(e,o){e[o]=function(){var e=arguments;return this.each(function(){this[o].apply(this,e)})}}),e.fn.getNiceScroll=function(o){return void 0===o?new b(this):this[o]&&e.data(this[o],"__nicescroll")||!1},e.expr[":"].nicescroll=function(o){return void 0!==e.data(o,"__nicescroll")},e.fn.niceScroll=function(o,t){void 0!==t||"object"!=("undefined"==typeof o?"undefined":a(o))||"jquery"in o||(t=o,o=!1),t=e.extend({},t);var i=new b;void 0===t&&(t={}),o&&(t.doc=e(o),t.win=e(this));var r=!("doc"in t);return r||"win"in t||(t.win=e(this)),this.each(function(){var o=e(this).data("__nicescroll")||!1;o||(t.doc=r?e(this):t.doc,o=new g(t,e(this)),e(this).data("__nicescroll",o)),i.push(o)}),1==i.length?i[0]:i},window.NiceScroll={getjQuery:function(){return e}},e.nicescroll||(e.nicescroll=new b,e.nicescroll.options=p)})},251:function(e,o){e.exports=$},252:function(e,o,t){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}var r=t(253),n=i(r);Vue.directive("nicescroll",{bind:function(){var e=this;e.unbind(),Vue.nextTick(function(){$(e.el).niceScroll(n["default"])})},update:function(e){},unbind:function(){var e=this;e.frag&&e.frag.destroy()}})},253:function(e,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o["default"]={cursorcolor:"#D2D2D2",cursoropacitymin:0,cursoropacitymax:1,cursorwidth:"12px",cursorborder:"4px solid rgba(255,255,255,0)",cursorborderradius:"12px",zindex:"auto",scrollspeed:60,mousescrollstep:40,touchbehavior:!1,hwacceleration:!0,grabcursorenabled:!1,autohidemode:"leave",background:"",iframeautoresize:!0,cursorminheight:32,preservenativescrolling:!0,railoffset:!1,bouncescroll:!1,spacebarenabled:!0,railpadding:{top:0,right:0,left:0,bottom:0},disableoutline:!0,horizrailenabled:!0,enabletranslate3d:!0,enablemouselockapi:!0,cursorfixedheight:!1,hidecursordelay:400,directionlockdeadzone:6,nativeparentscrolling:!0,enablescrollonselection:!0,cursordragspeed:.3,rtlmode:"auto",cursordragontouch:!0,oneaxismousemode:"auto",preventmultitouchscrolling:!0,disablemutationobserver:!1}},305:function(e,o,t){"use strict";function i(e){if(e&&e.__esModule)return e;var o={};if(null!=e)for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(o[t]=e[t]);return o["default"]=e,o}function r(e){u.emit("dialog.open",e,h==top?"local":"top")}function n(){u.emit("dialog.close",null,h==top?"local":"top")}function a(e){u.emit("dialog.setSize",e,window==top?null:"top")}function s(e){var o="alert_"+_.now(),t=e.success,i=e.cancel,r=e.complete;"string"==typeof e&&(e={msg:e}),e.success=void 0,e.cancel=void 0,e.complete=void 0,e.callbackId=o,u.emit("dialog.alert",e,"top"),u.one(o,function(e){"success"==e.type?(t&&t(),r&&r()):(i&&i(),r&&r())})}function l(e){var o="confirm_"+_.now(),t=e.success,i=e.cancel,r=e.complete;"string"==typeof e&&(e={msg:e}),e.success=void 0,e.cancel=void 0,e.complete=void 0,e.callbackId=o,u.emit("dialog.confirm",e,"top"),u.one(o,function(e){"success"==e.type?(t&&t(),r&&r()):(i&&i(),r&&r())}),top.focus()}function c(){Vue.nextTick(function(){a({width:f.width(),height:p.height()})})}Object.defineProperty(o,"__esModule",{value:!0}),o.open=r,o.close=n,o.setSize=a,o.alert=s,o.confirm=l,o.autoSize=c;var d=t(51),u=i(d),h=window,p=$("html"),f=$(document)},431:function(e,o,t){"use strict";t(432)},432:function(e,o){"use strict";Vue.directive("event",{_handler:null,update:function(e,o){var t=this,i=t.descriptor.arg;if(i){var r=$(t.el);o&&r.off(t._name,t._handler),t._handler=e,r.on(i,function(o){e.call(t,o)})}},unbind:function(){var e=this;e.frag&&e.frag.destroy()}})},464:function(e,o,t){"use strict";function i(e){if(e&&e.__esModule)return e;var o={};if(null!=e)for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(o[t]=e[t]);return o["default"]=e,o}function r(e){return e&&e.__esModule?e:{"default":e}}t(2);var n=t(9),a=r(n);t(235);var s=t(465),l=r(s),c=t(466),d=i(c),u=t(468),h=r(u),p=t(469),f=r(p),m=t(470),g=i(m);t(477);var v=t(467),w=i(v);t(480),a["default"].pageId="wordbook/index",$(function(){var e=w.get()||{},o={el:"#main",template:(0,l["default"])(),data:{categorys:null,reviewNum:0,isMulti:!1,isSyncing:!1,activeIndex:e.activeIndex||0,isSelectAll:!1,isCategorySubMenuShow:!1,pager:{total:0,totalPage:1,prePage:e.prePage||1},source:{namespace:"data",init:{provider:h["default"],filter:f["default"],params:{order:e.order||"timenew",start:e.start||0,size:200,category:e.category||"*",_seq:0}}}},methods:d,ready:function(){var o=this;o.$refs.ajax1.$once("ajax-success",function(t,i){var r=i.data;if(r.length>0){var n=_.findIndex(r,{word:e.word});if(n!=o.activeIndex){var a=o.source.init.params;o.activeIndex=0,a.order="timenew",a.start=0,a.category="*",w.clear()}else Vue.nextTick(function(){$(".wb-list li")[n].scrollIntoView(!1)})}else w.clear()})}},t=new Vue(o);g.init(t)}),Vue.filter("filterTrans",function(e){return e?e.replace(/\n/g,";"):e}),Vue.filter("filterProgress",function(e){return!e||e<=1?"":(e-=1,["width:",Math.ceil(11.1*e),"%"].join(""))}),Vue.filter("filterCategoryName",function(e){return e?"*"==e?"所有分类":e:"未分类单词"}),Vue.filter("filterOrderName",function(e){switch(e){case"timenew":return e="新旧排序";case"timeold":return e="旧新排序";case"wordasc":return e="字母A-Z排序";case"worddesc":return e="字母Z-A排序";case"progressquick":return e="复习进度快-慢排序";case"progressslow":return e="复习进度慢-快排序";default:return e="时间排序"}})},465:function(module,exports){module.exports=function(obj){obj||(obj={});var __t,__p="";with(obj)__p+='<div>\r\n  <div class="frame">\r\n    <div class="left">\r\n      <left></left>\r\n      <contextmenu></contextmenu>\r\n    </div>\r\n\r\n    <div class="right">\r\n      <div class="container">\r\n        <iframe src="right.html" frameborder="no" border="0" marginwidth="0" marginheight="0" id="wordbookResultFrame" name="wordbookResultFrame">\r\n        </iframe>\r\n      </div>\r\n    </div>\r\n\r\n  </div>\r\n</div>';return __p}},466:function(e,o,t){"use strict";function i(e){if(e&&e.__esModule)return e;var o={};if(null!=e)for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(o[t]=e[t]);return o["default"]=e,o}function r(e){return e&&e.__esModule?e:{"default":e}}function n(){var e=this;e.isMulti=!e.isMulti,I(e)}function a(e){var o=this,t=o.source.init.params;t.start=0,t.category=e.name}function s(e){var o=this,t=o.source.init.params;t.start=0,t.order=e}function l(){var e=this;ydk.isLogin({success:function(o){o.isLogin?W(e):ydk.login({success:function(o){"success"==o.status&&W(e)}})}})}function c(e,o){var t=this,i=t.source.init.params;L||"*"!=i.category||o.total>0||(L=!0,ydk.isLogin({success:function(e){e.isLogin&&W(t)}}))}function d(){var e=this,o=$("input[name=words]:checked");return 0==o.length?void ydk.toast({msg:"请选择需要删除的单词",duration:1.5,ext:{type:"warn"}}):void E.confirm({title:"删除单词",msg:"确认需要删除选中单词吗？",success:function(){var t=[];o.each(function(){var e=$(this);t.push({word:e.attr("data-word"),lang:e.attr("data-lang")})}),ydk.removeFromWordBook({data:t}),I(e)}})}function u(){var e=$("input[name=words]:checked"),o=e.data("word")||"",t=e.data("lang")||"en",i={header:{title:"编辑单词",showClose:!0},url:"wordbook/dialog/word/edit.html?keyword="+o+"&lang="+t};E.open(i)}function h(){var e=this;e.isSelectAll=!e.isSelectAll}function p(){var e={header:{title:"分类管理",showClose:!0},url:"wordbook/dialog/category.html"};E.open(e)}function f(){var e={header:{title:"添加单词",showClose:!0},url:"wordbook/dialog/word/add.html"};E.open(e)}function m(){var e=this;e.isCategorySubMenuShow=!e.isCategorySubMenuShow,e.isCategorySubMenuShow&&_.delay(function(){$("#js_opt_category_sub").scrollTop(0)})}function g(e){var o=this,t=$("input[name=words]:checked");return 0==t.length?void ydk.toast({msg:"请选择需要修改分类的单词",duration:1.5,ext:{type:"warn"}}):void E.confirm({title:"修改分类",msg:"确认修改分类吗？",success:function(){B.call(o,e)}})}function v(){var e=this,o=$("input[name=words]:checked");return 0==o.length?void ydk.toast({msg:"请选择需要不再复习的单词",duration:1.5,ext:{type:"warn"}}):void E.confirm({title:"不再复习",msg:"确认不再复习选中单词吗？",success:function(){var t=[];o.each(function(){var e=$(this);t.push({word:e.attr("data-word"),lang:e.attr("data-lang")})}),ydk.setWordBookPlan({data:t,plan:!1}),I(e)}})}function w(){var e=this,o=$("input[name=words]:checked");if(0==o.length)return void ydk.toast({msg:"请选择需要复习的单词",duration:1.5,ext:{type:"warn"}});var t=[];o.each(function(){var e=$(this);t.push({word:e.attr("data-word"),lang:e.attr("data-lang")})}),ydk.setWordBookPlan({data:t,plan:!0}),I(e)}function y(){var e={header:{title:"单词本偏好设置",showClose:!0},url:"wordbook/dialog/setting.html"};E.open(e)}function b(){ydk.importToWordBook({success:function(e){e.repeat||ydk.toast({msg:"导入成功！一共导入"+e.num+"个单词",ext:{type:"success"}})},fail:function(e){ydk.toast({msg:e.errMsg||"导入失败",duration:3,ext:{type:"warn"}})}})}function k(){var e=this,o=e.source.init.params,t={header:{title:"导出单词",showClose:!0},url:"wordbook/dialog/export.html?order="+o.order};E.open(t)}function x(){p()}function S(){var e=this;e.isCategorySubMenuShow=!1}function z(){var e=this,o=e.source.init.params;e.pager.prePage>=e.pager.totalPage||(o.start+=o.size,$(".wb-list").scrollTop(0),I(e))}function T(){var e=this,o=e.source.init.params;e.pager.prePage<=1||(o.start-=o.size,$(".wb-list").scrollTop(0),I(e))}Object.defineProperty(o,"__esModule",{value:!0}),o.onClickItem=o.detail=void 0,o.toggleMulti=n,o.setQueryCategory=a,o.setQueryOrder=s,o.sync=l,o.onAjaxSuccess=c,o.removeWord=d,o.editWord=u,o.selectAll=h,o.sortDialog=p,o.addDialog=f,o.toggleCategoryList=m,o.setCategory=g,o.noRevise=v,o.revise=w,o.settingDialog=y,o.impor=b,o.expor=k,o.toggleAddCategory=x,o.onMutilPannelClose=S,o.nextPage=z,o.prevPage=T;var M=t(9),C=r(M),j=t(467),P=i(j),O=t(305),E=i(O),L=!1,I=function(e){e.isSelectAll=!1,$("input[name=words]:checked").each(function(){this.checked=!1})},W=function(e){e.isSyncing=!0,ydk.syncWordBook({complete:function(){e.isSyncing=!1},success:function(e){ydk.toast({msg:"同步成功",duration:1.5,ext:{type:"success"}})},fail:function(e){ydk.toast({msg:e.errMsg||"同步失败",duration:1.5,ext:{type:"error"}})}})},N=o.detail=_.debounce(function(e,o){var t=this;t.activeIndex=o,e.lang=e.lang||"en",frames[0].location.href="right.html#"+[encodeURIComponent(e.word),e.lang].join(","),ydk.rlog({action:"dict_query",keyfrom:"deskdict.main",page:C["default"].pageId,type:"wordbook",q:e.word,le:e.lang}),P.save(t,e)},100),B=(o.onClickItem=function(e,o,t){var i=this,r=$("input[name=words]");if(t.shiftKey){I(i);for(var n=Math.min(i.activeIndex,o),a=Math.max(i.activeIndex,o),s=n,l=a;s<=l;s++)r[s].checked=!0}else{if(t.ctrlKey){var c=r[o];return void(c.checked=!c.checked)}I(i),N.call(i,e,o)}},function(e){var o=this,t=[],i=$("input[name=words]:checked");i.each(function(){var e=$(this);t.push({word:e.attr("data-word"),lang:e.attr("data-lang")})}),ydk.setWordBookCategory({data:t,category:e}),ydk.toast({msg:"修改分类成功",duration:1.5,ext:{type:"success"}}),I(o)})},467:function(e,o){"use strict";function t(){var e=a.getItem(n);return a?e=JSON.parse(e):null}function i(e,o){var t=e.source.init.params;a.setItem(n,JSON.stringify({activeIndex:e.activeIndex,total:e.pager.total,order:t.order,start:t.start,category:t.category,word:o.word,lang:o.lang}))}function r(){a.removeItem(n)}Object.defineProperty(o,"__esModule",{value:!0}),o.get=t,o.save=i,o.clear=r;var n="wordbook_state",a=sessionStorage},468:function(e,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o["default"]=function(e){ydk.queryWordBook({start:e.data.start,order:e.data.order,size:e.data.size,category:e.data.category,fail:e.fail,success:e.success})}},469:function(e,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var t=function(e){return e.data=e.data||[],e};o["default"]=t},470:function(e,o,t){"use strict";function i(e){if(e&&e.__esModule)return e;var o={};if(null!=e)for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(o[t]=e[t]);return o["default"]=e,o}function r(e){var o=e.$refs;a.init(e),l.init(e),d.init(e),h.init(e),o.ajax1.$on("ajax-success",function(o,t){var i=e.source.init.params,r=t.total;e.pager.total=r,e.pager.prePage=parseInt(i.start/i.size,10)+1,e.pager.totalPage=Math.ceil((r||1)/i.size),a.initWordIndex(t)})}Object.defineProperty(o,"__esModule",{value:!0}),o.init=r;var n=t(471),a=i(n),s=t(472),l=i(s),c=t(473),d=i(c),u=t(474),h=i(u)},471:function(e,o){"use strict";function t(e){l=e,c=e.$refs}function i(){return l}function r(e){return d.indexOf(u(e))}function n(e){return"object"==("undefined"==typeof e?"undefined":s(e))&&(e=r(e)),c.ajax1.$ajaxData.data[e]}function a(e){d.length=0,e.data.forEach(function(e){d.push(u(e))})}Object.defineProperty(o,"__esModule",{value:!0});var s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};o.init=t,o.getVm=i,o.getWordIndex=r,o.getData=n,o.initWordIndex=a;var l,c,d=[],u=function(e){return[e.word,e.lang||"en"].join("_")}},472:function(e,o,t){"use strict";function i(e){if(e&&e.__esModule)return e;var o={};if(null!=e)for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(o[t]=e[t]);return o["default"]=e,o}function r(e){n=e,a=e.$refs}Object.defineProperty(o,"__esModule",{value:!0}),o.init=r;var n,a,s=t(471),l=i(s),c=t(466),d=i(c),u=$("body"),h=function(e){var o,t=a.ajax1.$ajaxData.data,i=t.length;switch(e){case"up":o=i+n.activeIndex-1,n.activeIndex=o%=i,d.detail.call(n,t[o],o);break;case"down":o=i+n.activeIndex+1,o%=i,n.activeIndex=o,d.detail.call(n,t[o],o)}$(".wb-list li")[o].scrollIntoView(!1)},p=function(){var e=l.getData(n.activeIndex);e&&ydk.removeFromWordBook({data:[e]})};u.bind("keyup",function(e){switch(e.keyCode){case 37:d.prevPage.call(n);break;case 38:h("up");break;case 39:d.nextPage.call(n);break;case 40:h("down");break;case 46:p();break;case 65:if(!e.ctrlKey)break;n.isSelectAll=!0}})},473:function(e,o,t){"use strict";function i(e){if(e&&e.__esModule)return e;var o={};if(null!=e)for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(o[t]=e[t]);return o["default"]=e,o}function r(e){n=e,a=e.$refs,g(),m(),a.ajax1.$on("ajax-end",function(e,o){var t=o.data.length,i=n.activeIndex;o.data&&t>i&&d.detail.call(n,o.data[i],i)})}Object.defineProperty(o,"__esModule",{value:!0}),o.init=r;var n,a,s=t(471),l=i(s),c=t(466),d=i(c),u=t(467),h=i(u),p=_.debounce(function(e){e&&n.source.init.params.category!=e||n.source.init.params._seq++},500),f=function(){n.$refs.ajax1.$once("ajax-success",function(e,o){var t=o.data;if(0==t.length){h.clear();var i=n.source.init.params;n.activeIndex=0,i.order="timenew",i.start=0,i.category="*"}})},m=_.debounce(function(){ydk.queryWordBookForReview({success:function(e){n.reviewNum=e.data?e.data.length:0}})},500),g=function(e){ydk.queryWordBookCategory({success:function(o){n.categorys=o.data,e&&e(o.data)}})},v=function(e){p()},w=function(e){p()},y=function(e){p(e.category)};ydk.onWordBookChanged({success:function(e){switch(e.type){case"remove":y(e);break;case"add":v(e);break;case"update":w(e);break;case"category":g();break;case"progress":m();var o=l.getWordIndex(e);if(o==-1)return;var t=a.ajax1.$ajaxData.data;t[o].progress=e.progress;break;case"needReview":m();break;case"reset":case"sync":case"import":p(),m(),g(),f()}}})},474:function(e,o,t){"use strict";function i(e){if(e&&e.__esModule)return e;var o={};if(null!=e)for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(o[t]=e[t]);return o["default"]=e,o}function r(e){s=$("#js_list_contextmenu"),$("#js_contextmenu_sub").on("open",function(){$(this).scrollTop(0)})}Object.defineProperty(o,"__esModule",{value:!0}),o.init=r;var n=t(471),a=i(n);t(475);var s,l=$(window),c=$("body");c.on("contextmenu",".wb-list li",function(e){var o=$(e.target).closest("li"),t=$("input[name=words]:checked"),i=o.find("input[name=words]");if(t.length<=1){1==t.length&&(t[0].checked=!1);var r=a.getData({word:i.attr("data-word"),lang:i.attr("data-lang")||"en"});r.progress==-1?s.removeClass("on-plan"):s.addClass("on-plan")}else s.removeClass("on-plan");var n=s.height();return e.pageY+n>l.height()?s.css({left:e.pageX+10,top:e.pageY-n-10}):s.css({left:e.pageX+10,top:e.pageY+10}),s.show(),i[0].checked=!0,e.stopPropagation(),!1}).on("click",".contextmenu",function(e){e.stopPropagation()}).on("click","[contextmenu-close]",function(e){s.hide()}).on("click",function(e){s.hide()}),c.on("contextmenu",function(e){return s.hide(),!1}),l.bind("blur",function(){s&&s.hide()})},475:function(e,o){},477:function(e,o,t){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}t(249),t(24),t(431);var r=t(32),n=i(r),a=t(478),s=i(a),l=t(479),c=i(l);Vue.component("left",(0,n["default"])(s["default"])),Vue.component("contextmenu",(0,n["default"])(c["default"]))},478:function(module,exports){module.exports=function(obj){obj||(obj={});var __t,__p="";with(obj)__p+='<div class="container">\r\n  <div class="wb-nav">\r\n    <ul class="wb-nav-wrap nav-1">\r\n      <li><a href="review.html" data-log-action="wordbook_reviewbutton_click"><em class="icon icon-review vam"></em>复习<em class="num tac vam" v-show="reviewNum > 0">{{reviewNum}}</em></a></li>\r\n      <li class="sync"><a href="javascript:;" @click="sync" :class="{active : isSyncing}" data-log-action="wordbook_synbutton_click"><em class="icon icon-sync vam"></em>同步</a></li>\r\n    </ul>\r\n    <ul class="wb-nav-wrap nav-2" v-show="!isMulti">\r\n      <li>\r\n        <a href="javascript:;" data-log-action="wordbook_sort_click" pannel="#pannel-category">\r\n        <span class="category-name inline-block ellipsis vam">{{source.init.params.category | filterCategoryName}}</span><span class="icon icon-down vam"></span></a>\r\n        <ul class="wb-cat wb-menu category-list hide" id="pannel-category" v-nicescroll>\r\n          <li :class="{active : source.init.params.category == \'*\'}"><a href="javascript:;" @click="setQueryCategory({name:\'*\'})" pannel-close>所有分类</a></li>\r\n          <li :class="{active : !source.init.params.category}"><a href="javascript:;" @click="setQueryCategory({name:\'\'})"  pannel-close>未分类单词</a></li>\r\n          <li v-for="item in categorys" :class="{active : source.init.params.category == item.name}" v-if="item.name !== \'未分类\'"><a href="javascript:;" @click="setQueryCategory(item)" class="ellipsis" pannel-close>{{item.name}}</a></li>\r\n        </ul>\r\n      </li>\r\n      <li class="list-order">\r\n        <a href="javascript:;" data-log-action="wordbook_order_click" pannel="#pannel-order">\r\n          <span class="inline-block ellipsis vam" style="width:50px;">{{source.init.params.order | filterOrderName}}</span><span class="icon icon-down vam"></span>\r\n        </a>\r\n        <ul class="wb-cat wb-menu category-list hide" id="pannel-order">\r\n          <li :class="{active : source.init.params.order == \'timenew\'}"><a href="javascript:;" @click="setQueryOrder(\'timenew\')" pannel-close>新旧排序</a></li>\r\n          <li :class="{active : source.init.params.order == \'timeold\'}"><a href="javascript:;" @click="setQueryOrder(\'timeold\')" pannel-close>旧新排序</a></li>\r\n          <li :class="{active : source.init.params.order == \'wordasc\'}"><a href="javascript:;" @click="setQueryOrder(\'wordasc\')" pannel-close>字母A-Z排序</a></li>\r\n          <li :class="{active : source.init.params.order == \'worddesc\'}"><a href="javascript:;" @click="setQueryOrder(\'worddesc\')" pannel-close>字母Z-A排序</a></li>\r\n          <li :class="{active : source.init.params.order == \'progressquick\'}"><a href="javascript:;" @click="setQueryOrder(\'progressquick\')" pannel-close>复习进度快-慢排序</a></li>\r\n          <li :class="{active : source.init.params.order == \'progressslow\'}"><a href="javascript:;" @click="setQueryOrder(\'progressslow\')" pannel-close>复习进度慢-快排序</a></li>\r\n        </ul>\r\n      </li>\r\n      <li class="manage">\r\n        <a href="javascript:;" pannel="#manage" data-log-action="wordbook_manage_click">管理</a>\r\n        <ul class="wb-manage wb-menu hide" id="manage">\r\n          <li><a href="javascript:;" @click="addDialog" data-log-action="wordbook_addword_click" pannel-close>添加单词</a></li>\r\n          <li><a href="javascript:;" @click="toggleMulti" data-log-action="wordbook_batch_click" pannel-close>批量管理</a></li>\r\n          <li><a href="javascript:;" @click="sortDialog" data-log-action="wordbook_sortm_click" pannel-close>分类管理</a></li>\r\n          <li><a href="javascript:;" @click="impor" data-log-action="wordbook_import_click" pannel-close>导入单词</a></li>\r\n          <li><a href="javascript:;" @click="expor" data-log-action="wordbook_export_click" pannel-close>导出单词</a></li>\r\n          <li><a href="javascript:;" @click="settingDialog" data-log-action="" pannel-close>偏好设置</a></li>\r\n        </ul>\r\n      </li>\r\n    </ul>\r\n    <!--批量操作菜单-->\r\n    <ul class="wb-nav-wrap nav-3"  v-show="isMulti">\r\n      <li><label><input type="checkbox" class="g-checkbox all-select" @click="selectAll" :checked="isSelectAll">全选</label></li>\r\n      <li><a class="wb-cancle" href="javascript:;" @click="toggleMulti">取消</a></li>\r\n      <li class="opt">\r\n        <a id="opt" href="javascript:;" pannel="#pannelopt">操作</a>\r\n        <ul class="wb-opt-list wb-menu hide" id="pannelopt"  v-event:close="onMutilPannelClose">\r\n          <li><a @click="removeWord" href="javascript:;" pannel-close>删除</a></li>\r\n          <li>\r\n            <a href="javascript:;" @click="toggleCategoryList">修改分类<span class="icon icon-right vam"></span></a>\r\n            <ul id="js_opt_category_sub" class="categorys category-list" v-show="isCategorySubMenuShow" v-nicescroll>\r\n              <li><a href="javascript:;" pannel-close @click="setCategory(\'\')">未分类单词</a></li>\r\n              <li v-for="item in categorys" class="ellipsis"><a href="javascript:;" pannel-close @click="setCategory(item.name)" class="ellipsis">{{item.name}}</a></li>\r\n              <li class="add"><a href="javascript:;" @click="toggleAddCategory">创建分类</a></li>\r\n            </ul>\r\n          </li>\r\n          <li><a href="javascript:;" @click="revise" pannel-close>加入复习</a></li>\r\n          <li><a href="javascript:;" @click="noRevise" pannel-close>不再复习</a></li>\r\n        </ul>\r\n      </li>\r\n    </ul>\r\n  </div>\r\n  <ajax \r\n      :data-source="source.init.provider" \r\n      :data-source-params="source.init.params" \r\n      :filter="source.init.filter"\r\n      @ajax-success="onAjaxSuccess"\r\n      v-ref:ajax1\r\n    >\r\n    <ul class="wb-list" :class="{multi : isMulti}" v-nicescroll>\r\n      <li v-for="item in $ajax.data">\r\n        <input type="checkbox" class="g-checkbox wb-check-box" :checked="isSelectAll" name="words" :data-word="item.word" :data-lang="item.lang">\r\n        <div class="list-word" :class="{active : activeIndex == $index}">\r\n          <a class="wb-content" href="javascript:;" @click="onClickItem(item , $index , $event)">\r\n            <h3 class="ellipsis">{{item.word}}</h3>\r\n            <p class="ellipsis">{{item.trans}}</p>\r\n            <div class="progress" v-if="item.progress > 1">\r\n              复习进度<div class="bg inline-block vam" ><div class="cover"  :style="item.progress | filterProgress"></div></div>\r\n            </div>\r\n          </a>\r\n        </div>\r\n      </li>\r\n    </ul>\r\n    <div class="pager">\r\n      <div class="total fl">共<em>{{pager.total}}</em>个单词</div>\r\n      <ul class="num fr">\r\n        <li class="prev" :class="{disable : pager.prePage <= 1}"><a href="javascript:;" class="icon icon-left" @click="prevPage"></a></li>\r\n        <li class="cur-num">{{pager.prePage}}</li>\r\n        <li class="split">/</li>\r\n        <li class="total-num">{{pager.totalPage}}</li>\r\n        <li class="next" :class="{disable : pager.prePage >= pager.totalPage}"><a href="javascript:;" class="icon icon-right" @click="nextPage"></a></li>\r\n      </ul>\r\n    </div>\r\n  </ajax>\r\n</div>';
return __p}},479:function(module,exports){module.exports=function(obj){obj||(obj={});var __t,__p="";with(obj)__p+='<ul id="js_list_contextmenu" class="wb-menu wb-opt-list contextmenu">\r\n  <li><a href="javascript:;" @click="removeWord" contextmenu-close>删除单词</a></li>\r\n  <li><a href="javascript:;" @click="editWord" contextmenu-close>编辑单词</a></li>\r\n  <li>\r\n    <a href="javascript:;" class="js_set_category" pannel="#js_contextmenu_sub">修改分类<span class="icon icon-right vam"></span></a>\r\n    <ul id="js_contextmenu_sub" class="categorys category-list hide" v-nicescroll>\r\n      <li><a href="javascript:;" pannel-close @click="setCategory(\'\')" contextmenu-close>未分类单词</a></li>\r\n      <li v-for="item in categorys" class="ellipsis"><a href="javascript:;" pannel-close @click="setCategory(item.name)" class="ellipsis" contextmenu-close>{{item.name}}</a></li>\r\n      <li class="add"><a href="javascript:;" @click="toggleAddCategory" contextmenu-close>创建分类</a></li>\r\n    </ul>\r\n  </li>\r\n  <li class="join-plan"><a href="javascript:;"  @click="revise" contextmenu-close>加入复习</a></li>\r\n  <li class="quit-plan"><a href="javascript:;" @click="noRevise" contextmenu-close>不再复习</a></li>\r\n</ul>';return __p}},480:function(e,o){}});